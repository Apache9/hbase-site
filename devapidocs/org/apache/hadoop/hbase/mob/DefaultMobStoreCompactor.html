<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>DefaultMobStoreCompactor (Apache HBase 2.0.0-SNAPSHOT API)</title>
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DefaultMobStoreCompactor (Apache HBase 2.0.0-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DefaultMobStoreCompactor.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/hadoop/hbase/mob/CachedMobFile.html" title="class in org.apache.hadoop.hbase.mob"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/apache/hadoop/hbase/mob/DefaultMobStoreFlusher.html" title="class in org.apache.hadoop.hbase.mob"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/hadoop/hbase/mob/DefaultMobStoreCompactor.html" target="_top">Frames</a></li>
<li><a href="DefaultMobStoreCompactor.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_classes_inherited_from_class_org.apache.hadoop.hbase.regionserver.compactions.Compactor">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.hadoop.hbase.mob</div>
<h2 title="Class DefaultMobStoreCompactor" class="title">Class DefaultMobStoreCompactor</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html" title="class in org.apache.hadoop.hbase.regionserver.compactions">org.apache.hadoop.hbase.regionserver.compactions.Compactor</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/DefaultCompactor.html" title="class in org.apache.hadoop.hbase.regionserver.compactions">org.apache.hadoop.hbase.regionserver.compactions.DefaultCompactor</a></li>
<li>
<ul class="inheritance">
<li>org.apache.hadoop.hbase.mob.DefaultMobStoreCompactor</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre><a href="../../../../../org/apache/hadoop/hbase/classification/InterfaceAudience.Private.html" title="annotation in org.apache.hadoop.hbase.classification">@InterfaceAudience.Private</a>
public class <a href="../../../../../src-html/org/apache/hadoop/hbase/mob/DefaultMobStoreCompactor.html#line.56">DefaultMobStoreCompactor</a>
extends <a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/DefaultCompactor.html" title="class in org.apache.hadoop.hbase.regionserver.compactions">DefaultCompactor</a></pre>
<div class="block">Compact passed set of files in the mob-enabled column family.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested_classes_inherited_from_class_org.apache.hadoop.hbase.regionserver.compactions.Compactor">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;org.apache.hadoop.hbase.regionserver.compactions.<a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html" title="class in org.apache.hadoop.hbase.regionserver.compactions">Compactor</a></h3>
<code><a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.CellSink.html" title="interface in org.apache.hadoop.hbase.regionserver.compactions">Compactor.CellSink</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.FileDetails.html" title="class in org.apache.hadoop.hbase.regionserver.compactions">Compactor.FileDetails</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static org.apache.commons.logging.Log</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/mob/DefaultMobStoreCompactor.html#LOG">LOG</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private long</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/mob/DefaultMobStoreCompactor.html#mobSizeThreshold">mobSizeThreshold</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../../org/apache/hadoop/hbase/regionserver/HMobStore.html" title="class in org.apache.hadoop.hbase.regionserver">HMobStore</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/mob/DefaultMobStoreCompactor.html#mobStore">mobStore</a></strong></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.apache.hadoop.hbase.regionserver.compactions.Compactor">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.apache.hadoop.hbase.regionserver.compactions.<a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html" title="class in org.apache.hadoop.hbase.regionserver.compactions">Compactor</a></h3>
<code><a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html#compactionCompression">compactionCompression</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html#compactionKVMax">compactionKVMax</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html#conf">conf</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html#keepSeqIdPeriod">keepSeqIdPeriod</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html#progress">progress</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html#store">store</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/apache/hadoop/hbase/mob/DefaultMobStoreCompactor.html#DefaultMobStoreCompactor(org.apache.hadoop.conf.Configuration,%20org.apache.hadoop.hbase.regionserver.Store)">DefaultMobStoreCompactor</a></strong>(org.apache.hadoop.conf.Configuration&nbsp;conf,
                                                <a href="../../../../../org/apache/hadoop/hbase/regionserver/Store.html" title="interface in org.apache.hadoop.hbase.regionserver">Store</a>&nbsp;store)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../org/apache/hadoop/hbase/regionserver/InternalScanner.html" title="interface in org.apache.hadoop.hbase.regionserver">InternalScanner</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/mob/DefaultMobStoreCompactor.html#createScanner(org.apache.hadoop.hbase.regionserver.Store,%20java.util.List,%20org.apache.hadoop.hbase.regionserver.ScanType,%20long,%20long)">createScanner</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/regionserver/Store.html" title="interface in org.apache.hadoop.hbase.regionserver">Store</a>&nbsp;store,
                          <a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/regionserver/StoreFileScanner.html" title="class in org.apache.hadoop.hbase.regionserver">StoreFileScanner</a>&gt;&nbsp;scanners,
                          <a href="../../../../../org/apache/hadoop/hbase/regionserver/ScanType.html" title="enum in org.apache.hadoop.hbase.regionserver">ScanType</a>&nbsp;scanType,
                          long&nbsp;smallestReadPoint,
                          long&nbsp;earliestPutTs)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../org/apache/hadoop/hbase/regionserver/StoreFile.Writer.html" title="class in org.apache.hadoop.hbase.regionserver">StoreFile.Writer</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/mob/DefaultMobStoreCompactor.html#createTmpWriter(org.apache.hadoop.hbase.regionserver.compactions.Compactor.FileDetails,%20boolean)">createTmpWriter</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.FileDetails.html" title="class in org.apache.hadoop.hbase.regionserver.compactions">Compactor.FileDetails</a>&nbsp;fd,
                              boolean&nbsp;shouldDropBehind)</code>
<div class="block">Creates a writer for a new file in a temporary directory.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/mob/DefaultMobStoreCompactor.html#performCompaction(org.apache.hadoop.hbase.regionserver.compactions.Compactor.FileDetails,%20org.apache.hadoop.hbase.regionserver.InternalScanner,%20org.apache.hadoop.hbase.regionserver.compactions.Compactor.CellSink,%20long,%20boolean,%20org.apache.hadoop.hbase.regionserver.throttle.ThroughputController,%20boolean)">performCompaction</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.FileDetails.html" title="class in org.apache.hadoop.hbase.regionserver.compactions">Compactor.FileDetails</a>&nbsp;fd,
                                  <a href="../../../../../org/apache/hadoop/hbase/regionserver/InternalScanner.html" title="interface in org.apache.hadoop.hbase.regionserver">InternalScanner</a>&nbsp;scanner,
                                  <a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.CellSink.html" title="interface in org.apache.hadoop.hbase.regionserver.compactions">Compactor.CellSink</a>&nbsp;writer,
                                  long&nbsp;smallestReadPoint,
                                  boolean&nbsp;cleanSeqId,
                                  <a href="../../../../../org/apache/hadoop/hbase/regionserver/throttle/ThroughputController.html" title="interface in org.apache.hadoop.hbase.regionserver.throttle">ThroughputController</a>&nbsp;throughputController,
                                  boolean&nbsp;major)</code>
<div class="block">Performs compaction on a column family with the mob flag enabled.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.apache.hadoop.hbase.regionserver.compactions.DefaultCompactor">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.hadoop.hbase.regionserver.compactions.<a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/DefaultCompactor.html" title="class in org.apache.hadoop.hbase.regionserver.compactions">DefaultCompactor</a></h3>
<code><a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/DefaultCompactor.html#compact(org.apache.hadoop.hbase.regionserver.compactions.CompactionRequest,%20org.apache.hadoop.hbase.regionserver.throttle.ThroughputController,%20org.apache.hadoop.hbase.security.User)">compact</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/DefaultCompactor.html#compactForTesting(java.util.Collection,%20boolean)">compactForTesting</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.apache.hadoop.hbase.regionserver.compactions.Compactor">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.hadoop.hbase.regionserver.compactions.<a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html" title="class in org.apache.hadoop.hbase.regionserver.compactions">Compactor</a></h3>
<code><a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html#appendMetadataAndCloseWriter(org.apache.hadoop.hbase.regionserver.StoreFile.Writer,%20org.apache.hadoop.hbase.regionserver.compactions.Compactor.FileDetails,%20boolean)">appendMetadataAndCloseWriter</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html#createFileScanners(java.util.Collection,%20long,%20boolean)">createFileScanners</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html#createScanner(org.apache.hadoop.hbase.regionserver.Store,%20java.util.List,%20long,%20long,%20byte[],%20byte[])">createScanner</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html#getFileDetails(java.util.Collection,%20boolean)">getFileDetails</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html#getProgress()">getProgress</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html#getSmallestReadPoint()">getSmallestReadPoint</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html#postCreateCoprocScanner(org.apache.hadoop.hbase.regionserver.compactions.CompactionRequest,%20org.apache.hadoop.hbase.regionserver.ScanType,%20org.apache.hadoop.hbase.regionserver.InternalScanner,%20org.apache.hadoop.hbase.security.User)">postCreateCoprocScanner</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html#preCreateCoprocScanner(org.apache.hadoop.hbase.regionserver.compactions.CompactionRequest,%20org.apache.hadoop.hbase.regionserver.ScanType,%20long,%20java.util.List)">preCreateCoprocScanner</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html#preCreateCoprocScanner(org.apache.hadoop.hbase.regionserver.compactions.CompactionRequest,%20org.apache.hadoop.hbase.regionserver.ScanType,%20long,%20java.util.List,%20org.apache.hadoop.hbase.security.User)">preCreateCoprocScanner</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="LOG">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOG</h4>
<pre>private static final&nbsp;org.apache.commons.logging.Log <a href="../../../../../src-html/org/apache/hadoop/hbase/mob/DefaultMobStoreCompactor.html#line.58">LOG</a></pre>
</li>
</ul>
<a name="mobSizeThreshold">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mobSizeThreshold</h4>
<pre>private&nbsp;long <a href="../../../../../src-html/org/apache/hadoop/hbase/mob/DefaultMobStoreCompactor.html#line.59">mobSizeThreshold</a></pre>
</li>
</ul>
<a name="mobStore">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>mobStore</h4>
<pre>private&nbsp;<a href="../../../../../org/apache/hadoop/hbase/regionserver/HMobStore.html" title="class in org.apache.hadoop.hbase.regionserver">HMobStore</a> <a href="../../../../../src-html/org/apache/hadoop/hbase/mob/DefaultMobStoreCompactor.html#line.60">mobStore</a></pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DefaultMobStoreCompactor(org.apache.hadoop.conf.Configuration, org.apache.hadoop.hbase.regionserver.Store)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DefaultMobStoreCompactor</h4>
<pre>public&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/mob/DefaultMobStoreCompactor.html#line.61">DefaultMobStoreCompactor</a>(org.apache.hadoop.conf.Configuration&nbsp;conf,
                        <a href="../../../../../org/apache/hadoop/hbase/regionserver/Store.html" title="interface in org.apache.hadoop.hbase.regionserver">Store</a>&nbsp;store)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="createTmpWriter(org.apache.hadoop.hbase.regionserver.compactions.Compactor.FileDetails, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createTmpWriter</h4>
<pre>protected&nbsp;<a href="../../../../../org/apache/hadoop/hbase/regionserver/StoreFile.Writer.html" title="class in org.apache.hadoop.hbase.regionserver">StoreFile.Writer</a>&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/mob/DefaultMobStoreCompactor.html#line.82">createTmpWriter</a>(<a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.FileDetails.html" title="class in org.apache.hadoop.hbase.regionserver.compactions">Compactor.FileDetails</a>&nbsp;fd,
                               boolean&nbsp;shouldDropBehind)
                                    throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Creates a writer for a new file in a temporary directory.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/DefaultCompactor.html#createTmpWriter(org.apache.hadoop.hbase.regionserver.compactions.Compactor.FileDetails,%20boolean)">createTmpWriter</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/DefaultCompactor.html" title="class in org.apache.hadoop.hbase.regionserver.compactions">DefaultCompactor</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>fd</code> - The file details.</dd><dd><code>shouldDropBehind</code> - Should the writer drop behind.</dd>
<dt><span class="strong">Returns:</span></dt><dd>Writer for a new StoreFile in the tmp dir.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="createScanner(org.apache.hadoop.hbase.regionserver.Store, java.util.List, org.apache.hadoop.hbase.regionserver.ScanType, long, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createScanner</h4>
<pre>protected&nbsp;<a href="../../../../../org/apache/hadoop/hbase/regionserver/InternalScanner.html" title="interface in org.apache.hadoop.hbase.regionserver">InternalScanner</a>&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/mob/DefaultMobStoreCompactor.html#line.90">createScanner</a>(<a href="../../../../../org/apache/hadoop/hbase/regionserver/Store.html" title="interface in org.apache.hadoop.hbase.regionserver">Store</a>&nbsp;store,
                            <a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/regionserver/StoreFileScanner.html" title="class in org.apache.hadoop.hbase.regionserver">StoreFileScanner</a>&gt;&nbsp;scanners,
                            <a href="../../../../../org/apache/hadoop/hbase/regionserver/ScanType.html" title="enum in org.apache.hadoop.hbase.regionserver">ScanType</a>&nbsp;scanType,
                            long&nbsp;smallestReadPoint,
                            long&nbsp;earliestPutTs)
                                 throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html#createScanner(org.apache.hadoop.hbase.regionserver.Store,%20java.util.List,%20org.apache.hadoop.hbase.regionserver.ScanType,%20long,%20long)">createScanner</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html" title="class in org.apache.hadoop.hbase.regionserver.compactions">Compactor</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>store</code> - store</dd><dd><code>scanners</code> - Store file scanners.</dd><dd><code>scanType</code> - Scan type.</dd><dd><code>smallestReadPoint</code> - Smallest MVCC read point.</dd><dd><code>earliestPutTs</code> - Earliest put across all files.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A compaction scanner.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="performCompaction(org.apache.hadoop.hbase.regionserver.compactions.Compactor.FileDetails, org.apache.hadoop.hbase.regionserver.InternalScanner, org.apache.hadoop.hbase.regionserver.compactions.Compactor.CellSink, long, boolean, org.apache.hadoop.hbase.regionserver.throttle.ThroughputController, boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>performCompaction</h4>
<pre>protected&nbsp;boolean&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/mob/DefaultMobStoreCompactor.html#line.152">performCompaction</a>(<a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.FileDetails.html" title="class in org.apache.hadoop.hbase.regionserver.compactions">Compactor.FileDetails</a>&nbsp;fd,
                        <a href="../../../../../org/apache/hadoop/hbase/regionserver/InternalScanner.html" title="interface in org.apache.hadoop.hbase.regionserver">InternalScanner</a>&nbsp;scanner,
                        <a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.CellSink.html" title="interface in org.apache.hadoop.hbase.regionserver.compactions">Compactor.CellSink</a>&nbsp;writer,
                        long&nbsp;smallestReadPoint,
                        boolean&nbsp;cleanSeqId,
                        <a href="../../../../../org/apache/hadoop/hbase/regionserver/throttle/ThroughputController.html" title="interface in org.apache.hadoop.hbase.regionserver.throttle">ThroughputController</a>&nbsp;throughputController,
                        boolean&nbsp;major)
                             throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Performs compaction on a column family with the mob flag enabled.
 This is for when the mob threshold size has changed or if the mob
 column family mode has been toggled via an alter table statement.
 Compacts the files by the following rules.
 1. If the cell has a mob reference tag, the cell's value is the path of the mob file.
 <ol>
 <li>
 If the value size of a cell is larger than the threshold, this cell is regarded as a mob,
 directly copy the (with mob tag) cell into the new store file.
 </li>
 <li>
 Otherwise, retrieve the mob cell from the mob file, and writes a copy of the cell into
 the new store file.
 </li>
 </ol>
 2. If the cell doesn't have a reference tag.
 <ol>
 <li>
 If the value size of a cell is larger than the threshold, this cell is regarded as a mob,
 write this cell to a mob file, and write the path of this mob file to the store file.
 </li>
 <li>
 Otherwise, directly write this cell into the store file.
 </li>
 </ol>
 In the mob compaction, the <a href="../../../../../org/apache/hadoop/hbase/regionserver/MobCompactionStoreScanner.html" title="class in org.apache.hadoop.hbase.regionserver"><code>MobCompactionStoreScanner</code></a> is used as a scanner
 which could output the normal cells and delete markers together when required.
 After the major compaction on the normal hfiles, we have a guarantee that we have purged all
 deleted or old version mob refs, and the delete markers are written to a del file with the
 suffix _del. Because of this, it is safe to use the del file in the mob compaction.
 The mob compaction doesn't take place in the normal hfiles, it occurs directly in the
 mob files. When the small mob files are merged into bigger ones, the del file is added into
 the scanner to filter the deleted cells.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html#performCompaction(org.apache.hadoop.hbase.regionserver.compactions.Compactor.FileDetails,%20org.apache.hadoop.hbase.regionserver.InternalScanner,%20org.apache.hadoop.hbase.regionserver.compactions.Compactor.CellSink,%20long,%20boolean,%20org.apache.hadoop.hbase.regionserver.throttle.ThroughputController,%20boolean)">performCompaction</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/regionserver/compactions/Compactor.html" title="class in org.apache.hadoop.hbase.regionserver.compactions">Compactor</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>fd</code> - File details</dd><dd><code>scanner</code> - Where to read from.</dd><dd><code>writer</code> - Where to write to.</dd><dd><code>smallestReadPoint</code> - Smallest read point.</dd><dd><code>cleanSeqId</code> - When true, remove seqId(used to be mvcc) value which is <= smallestReadPoint</dd><dd><code>throughputController</code> - The compaction throughput controller.</dd><dd><code>major</code> - Is a major compaction.</dd>
<dt><span class="strong">Returns:</span></dt><dd>Whether compaction ended; false if it was interrupted for any reason.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DefaultMobStoreCompactor.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/hadoop/hbase/mob/CachedMobFile.html" title="class in org.apache.hadoop.hbase.mob"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/apache/hadoop/hbase/mob/DefaultMobStoreFlusher.html" title="class in org.apache.hadoop.hbase.mob"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/hadoop/hbase/mob/DefaultMobStoreCompactor.html" target="_top">Frames</a></li>
<li><a href="DefaultMobStoreCompactor.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_classes_inherited_from_class_org.apache.hadoop.hbase.regionserver.compactions.Compactor">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2007&#x2013;2016 <a href="http://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</body>
</html>
