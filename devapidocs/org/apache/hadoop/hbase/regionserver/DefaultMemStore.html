<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>DefaultMemStore (Apache HBase 2.0.0-SNAPSHOT API)</title>
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DefaultMemStore (Apache HBase 2.0.0-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DefaultMemStore.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/hadoop/hbase/regionserver/DefaultHeapMemoryTuner.StepDirection.html" title="enum in org.apache.hadoop.hbase.regionserver"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/apache/hadoop/hbase/regionserver/DefaultStoreEngine.html" title="class in org.apache.hadoop.hbase.regionserver"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/hadoop/hbase/regionserver/DefaultMemStore.html" target="_top">Frames</a></li>
<li><a href="DefaultMemStore.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.hadoop.hbase.regionserver</div>
<h2 title="Class DefaultMemStore" class="title">Class DefaultMemStore</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html" title="class in org.apache.hadoop.hbase.regionserver">org.apache.hadoop.hbase.regionserver.AbstractMemStore</a></li>
<li>
<ul class="inheritance">
<li>org.apache.hadoop.hbase.regionserver.DefaultMemStore</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../org/apache/hadoop/hbase/io/HeapSize.html" title="interface in org.apache.hadoop.hbase.io">HeapSize</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/MemStore.html" title="interface in org.apache.hadoop.hbase.regionserver">MemStore</a></dd>
</dl>
<hr>
<br>
<pre><a href="../../../../../org/apache/hadoop/hbase/classification/InterfaceAudience.Private.html" title="annotation in org.apache.hadoop.hbase.classification">@InterfaceAudience.Private</a>
public class <a href="../../../../../src-html/org/apache/hadoop/hbase/regionserver/DefaultMemStore.html#line.56">DefaultMemStore</a>
extends <a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html" title="class in org.apache.hadoop.hbase.regionserver">AbstractMemStore</a></pre>
<div class="block">The MemStore holds in-memory modifications to the Store.  Modifications
 are <a href="../../../../../org/apache/hadoop/hbase/Cell.html" title="interface in org.apache.hadoop.hbase"><code>Cell</code></a>s.  When asked to flush, current memstore is moved
 to snapshot and is cleared.  We continue to serve edits out of new memstore
 and backing snapshot until flusher reports in that the flush succeeded. At
 this point we let the snapshot go.
  <p>
 The MemStore functions should not be called in parallel. Callers should hold
  write and read locks. This is done in <a href="../../../../../org/apache/hadoop/hbase/regionserver/HStore.html" title="class in org.apache.hadoop.hbase.regionserver"><code>HStore</code></a>.
  </p>

 TODO: Adjust size of the memstore when we remove items because they have
 been deleted.
 TODO: With new KVSLS, need to make sure we update HeapSize with difference
 in KV size.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static org.apache.commons.logging.Log</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/regionserver/DefaultMemStore.html#LOG">LOG</a></strong></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.apache.hadoop.hbase.regionserver.AbstractMemStore">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.apache.hadoop.hbase.regionserver.<a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html" title="class in org.apache.hadoop.hbase.regionserver">AbstractMemStore</a></h3>
<code><a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html#DEEP_OVERHEAD">DEEP_OVERHEAD</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html#FIXED_OVERHEAD">FIXED_OVERHEAD</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html#snapshotId">snapshotId</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/apache/hadoop/hbase/regionserver/DefaultMemStore.html#DefaultMemStore()">DefaultMemStore</a></strong>()</code>
<div class="block">Default constructor.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../../org/apache/hadoop/hbase/regionserver/DefaultMemStore.html#DefaultMemStore(org.apache.hadoop.conf.Configuration,%20org.apache.hadoop.hbase.CellComparator)">DefaultMemStore</a></strong>(org.apache.hadoop.conf.Configuration&nbsp;conf,
                              <a href="../../../../../org/apache/hadoop/hbase/CellComparator.html" title="class in org.apache.hadoop.hbase">CellComparator</a>&nbsp;c)</code>
<div class="block">Constructor.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/regionserver/DefaultMemStore.html#checkActiveSize()">checkActiveSize</a></strong>()</code>
<div class="block">Check whether anything need to be done based on the current active set size
 Nothing need to be done for the DefaultMemStore</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/regionserver/DefaultMemStore.html#dump()">dump</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/regionserver/DefaultMemStore.html#finalizeFlush()">finalizeFlush</a></strong>()</code>
<div class="block">This method is called when it is clear that the flush to disk is completed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/regionserver/SegmentScanner.html" title="class in org.apache.hadoop.hbase.regionserver">SegmentScanner</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/regionserver/DefaultMemStore.html#getListOfScanners(long)">getListOfScanners</a></strong>(long&nbsp;readPt)</code>
<div class="block">Returns a list of Store segment scanners, one per each store segment</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/regionserver/Segment.html" title="class in org.apache.hadoop.hbase.regionserver">Segment</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/regionserver/DefaultMemStore.html#getListOfSegments()">getListOfSegments</a></strong>()</code>
<div class="block">Returns an ordered list of segments from most recent to oldest in memstore</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) <a href="../../../../../org/apache/hadoop/hbase/Cell.html" title="interface in org.apache.hadoop.hbase">Cell</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/regionserver/DefaultMemStore.html#getNextRow(org.apache.hadoop.hbase.Cell)">getNextRow</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/Cell.html" title="interface in org.apache.hadoop.hbase">Cell</a>&nbsp;cell)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/regionserver/DefaultMemStore.html#main(java.lang.String[])">main</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;args)</code>
<div class="block">Code to help figure if our approximation of object heap sizes is close
 enough.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/regionserver/DefaultMemStore.html#rollback(org.apache.hadoop.hbase.Cell)">rollback</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/Cell.html" title="interface in org.apache.hadoop.hbase">Cell</a>&nbsp;cell)</code>
<div class="block">Remove n key from the memstore.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/regionserver/DefaultMemStore.html#size()">size</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/regionserver/MemStoreSnapshot.html" title="class in org.apache.hadoop.hbase.regionserver">MemStoreSnapshot</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/regionserver/DefaultMemStore.html#snapshot(long)">snapshot</a></strong>(long&nbsp;flushOpSeqId)</code>
<div class="block">Creates a snapshot of the current memstore.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/regionserver/DefaultMemStore.html#updateLowestUnflushedSequenceIdInWal(boolean)">updateLowestUnflushedSequenceIdInWal</a></strong>(boolean&nbsp;onlyIfMoreRecent)</code>
<div class="block">Updates the wal with the lowest sequence id (oldest entry) that is still in memory</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.apache.hadoop.hbase.regionserver.AbstractMemStore">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.hadoop.hbase.regionserver.<a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html" title="class in org.apache.hadoop.hbase.regionserver">AbstractMemStore</a></h3>
<code><a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html#add(org.apache.hadoop.hbase.Cell)">add</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html#clearSnapshot(long)">clearSnapshot</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html#delete(org.apache.hadoop.hbase.Cell)">delete</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html#dump(org.apache.commons.logging.Log)">dump</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html#getActive()">getActive</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html#getActiveSize()">getActiveSize</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html#getComparator()">getComparator</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html#getConfiguration()">getConfiguration</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html#getFlushableSize()">getFlushableSize</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html#getLowest(org.apache.hadoop.hbase.Cell,%20org.apache.hadoop.hbase.Cell)">getLowest</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html#getNextRow(org.apache.hadoop.hbase.Cell,%20java.util.NavigableSet)">getNextRow</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html#getScanners(long)">getScanners</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html#getSnapshot()">getSnapshot</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html#getSnapshotSize()">getSnapshotSize</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html#heapSize()">heapSize</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html#heapSizeChange(org.apache.hadoop.hbase.Cell,%20boolean)">heapSizeChange</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html#keySize()">keySize</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html#resetCellSet()">resetCellSet</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html#rollbackInActive(org.apache.hadoop.hbase.Cell)">rollbackInActive</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html#rollbackInSnapshot(org.apache.hadoop.hbase.Cell)">rollbackInSnapshot</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html#setSnapshot(org.apache.hadoop.hbase.regionserver.ImmutableSegment)">setSnapshot</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html#setSnapshotSize(long)">setSnapshotSize</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html#snapshot()">snapshot</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html#timeOfOldestEdit()">timeOfOldestEdit</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html#toString()">toString</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html#updateColumnValue(byte[],%20byte[],%20byte[],%20long,%20long)">updateColumnValue</a>, <a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html#upsert(java.lang.Iterable,%20long)">upsert</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="LOG">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>LOG</h4>
<pre>private static final&nbsp;org.apache.commons.logging.Log <a href="../../../../../src-html/org/apache/hadoop/hbase/regionserver/DefaultMemStore.html#line.57">LOG</a></pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DefaultMemStore()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DefaultMemStore</h4>
<pre>public&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/regionserver/DefaultMemStore.html#line.62">DefaultMemStore</a>()</pre>
<div class="block">Default constructor. Used for tests.</div>
</li>
</ul>
<a name="DefaultMemStore(org.apache.hadoop.conf.Configuration, org.apache.hadoop.hbase.CellComparator)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DefaultMemStore</h4>
<pre>public&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/regionserver/DefaultMemStore.html#line.70">DefaultMemStore</a>(org.apache.hadoop.conf.Configuration&nbsp;conf,
               <a href="../../../../../org/apache/hadoop/hbase/CellComparator.html" title="class in org.apache.hadoop.hbase">CellComparator</a>&nbsp;c)</pre>
<div class="block">Constructor.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>c</code> - Comparator</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="dump()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dump</h4>
<pre>void&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/regionserver/DefaultMemStore.html#line.74">dump</a>()</pre>
</li>
</ul>
<a name="snapshot(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>snapshot</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/hadoop/hbase/regionserver/MemStoreSnapshot.html" title="class in org.apache.hadoop.hbase.regionserver">MemStoreSnapshot</a>&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/regionserver/DefaultMemStore.html#line.84">snapshot</a>(long&nbsp;flushOpSeqId)</pre>
<div class="block">Creates a snapshot of the current memstore.
 Snapshot must be cleared by call to <a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html#clearSnapshot(long)"><code>AbstractMemStore.clearSnapshot(long)</code></a></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>flushOpSeqId</code> - the sequence id that is attached to the flush operation in the wal</dd>
<dt><span class="strong">Returns:</span></dt><dd><a href="../../../../../org/apache/hadoop/hbase/regionserver/MemStoreSnapshot.html" title="class in org.apache.hadoop.hbase.regionserver"><code>MemStoreSnapshot</code></a></dd></dl>
</li>
</ul>
<a name="getListOfScanners(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getListOfScanners</h4>
<pre>protected&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/regionserver/SegmentScanner.html" title="class in org.apache.hadoop.hbase.regionserver">SegmentScanner</a>&gt;&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/regionserver/DefaultMemStore.html#line.105">getListOfScanners</a>(long&nbsp;readPt)
                                          throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html#getListOfScanners(long)">AbstractMemStore</a></code></strong></div>
<div class="block">Returns a list of Store segment scanners, one per each store segment</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html#getListOfScanners(long)">getListOfScanners</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html" title="class in org.apache.hadoop.hbase.regionserver">AbstractMemStore</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>readPt</code> - the version number required to initialize the scanners</dd>
<dt><span class="strong">Returns:</span></dt><dd>a list of Store segment scanners, one per each store segment</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getListOfSegments()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getListOfSegments</h4>
<pre>protected&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/regionserver/Segment.html" title="class in org.apache.hadoop.hbase.regionserver">Segment</a>&gt;&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/regionserver/DefaultMemStore.html#line.113">getListOfSegments</a>()
                                   throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html#getListOfSegments()">AbstractMemStore</a></code></strong></div>
<div class="block">Returns an ordered list of segments from most recent to oldest in memstore</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html#getListOfSegments()">getListOfSegments</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html" title="class in org.apache.hadoop.hbase.regionserver">AbstractMemStore</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>an ordered list of segments from most recent to oldest in memstore</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="rollback(org.apache.hadoop.hbase.Cell)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rollback</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/regionserver/DefaultMemStore.html#line.129">rollback</a>(<a href="../../../../../org/apache/hadoop/hbase/Cell.html" title="interface in org.apache.hadoop.hbase">Cell</a>&nbsp;cell)</pre>
<div class="block">Remove n key from the memstore. Only cells that have the same key and the
 same memstoreTS are removed.  It is ok to not update timeRangeTracker
 in this call. It is possible that we can optimize this method by using
 tailMap/iterator, but since this method is called rarely (only for
 error recovery), we can leave those optimization for the future.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>cell</code> - </dd></dl>
</li>
</ul>
<a name="getNextRow(org.apache.hadoop.hbase.Cell)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextRow</h4>
<pre><a href="../../../../../org/apache/hadoop/hbase/Cell.html" title="interface in org.apache.hadoop.hbase">Cell</a>&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/regionserver/DefaultMemStore.html#line.139">getNextRow</a>(<a href="../../../../../org/apache/hadoop/hbase/Cell.html" title="interface in org.apache.hadoop.hbase">Cell</a>&nbsp;cell)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>cell</code> - Find the row that comes after this one.  If null, we return the
 first.</dd>
<dt><span class="strong">Returns:</span></dt><dd>Next row or null if none found.</dd></dl>
</li>
</ul>
<a name="updateLowestUnflushedSequenceIdInWal(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateLowestUnflushedSequenceIdInWal</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/regionserver/DefaultMemStore.html#line.145">updateLowestUnflushedSequenceIdInWal</a>(boolean&nbsp;onlyIfMoreRecent)</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html#updateLowestUnflushedSequenceIdInWal(boolean)">AbstractMemStore</a></code></strong></div>
<div class="block">Updates the wal with the lowest sequence id (oldest entry) that is still in memory</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html#updateLowestUnflushedSequenceIdInWal(boolean)">updateLowestUnflushedSequenceIdInWal</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html" title="class in org.apache.hadoop.hbase.regionserver">AbstractMemStore</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>onlyIfMoreRecent</code> - a flag that marks whether to update the sequence id no matter what or
                      only if it is greater than the previous sequence id</dd></dl>
</li>
</ul>
<a name="size()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>size</h4>
<pre>public&nbsp;long&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/regionserver/DefaultMemStore.html#line.152">size</a>()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>Total memory occupied by this MemStore.</dd></dl>
</li>
</ul>
<a name="checkActiveSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkActiveSize</h4>
<pre>protected&nbsp;void&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/regionserver/DefaultMemStore.html#line.161">checkActiveSize</a>()</pre>
<div class="block">Check whether anything need to be done based on the current active set size
 Nothing need to be done for the DefaultMemStore</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html#checkActiveSize()">checkActiveSize</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/regionserver/AbstractMemStore.html" title="class in org.apache.hadoop.hbase.regionserver">AbstractMemStore</a></code></dd>
</dl>
</li>
</ul>
<a name="finalizeFlush()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finalizeFlush</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/regionserver/DefaultMemStore.html#line.166">finalizeFlush</a>()</pre>
<div class="block"><strong>Description copied from interface:&nbsp;<code><a href="../../../../../org/apache/hadoop/hbase/regionserver/MemStore.html#finalizeFlush()">MemStore</a></code></strong></div>
<div class="block">This method is called when it is clear that the flush to disk is completed.
 The store may do any post-flush actions at this point.
 One example is to update the wal with sequence number that is known only at the store level.</div>
</li>
</ul>
<a name="main(java.lang.String[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/regionserver/DefaultMemStore.html#line.176">main</a>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;args)</pre>
<div class="block">Code to help figure if our approximation of object heap sizes is close
 enough.  See hbase-900.  Fills memstores then waits so user can heap
 dump and bring up resultant hprof in something like jprofiler which
 allows you get 'deep size' on objects.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>args</code> - main args</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DefaultMemStore.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/hadoop/hbase/regionserver/DefaultHeapMemoryTuner.StepDirection.html" title="enum in org.apache.hadoop.hbase.regionserver"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/apache/hadoop/hbase/regionserver/DefaultStoreEngine.html" title="class in org.apache.hadoop.hbase.regionserver"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/hadoop/hbase/regionserver/DefaultMemStore.html" target="_top">Frames</a></li>
<li><a href="DefaultMemStore.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2007&#x2013;2016 <a href="http://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</body>
</html>
