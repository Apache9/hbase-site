<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
<title>Source code</title>
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
</head>
<body>
<div class="sourceContainer">
<pre><span class="sourceLineNo">001</span>// Autogenerated Jamon implementation<a name="line.1"></a>
<span class="sourceLineNo">002</span>// /jenkins/workspace/hbase_generate_website/hbase/hbase-server/src/main/jamon/org/apache/hadoop/hbase/tmpl/master/MasterStatusTmpl.jamon<a name="line.2"></a>
<span class="sourceLineNo">003</span><a name="line.3"></a>
<span class="sourceLineNo">004</span>package org.apache.hadoop.hbase.tmpl.master;<a name="line.4"></a>
<span class="sourceLineNo">005</span><a name="line.5"></a>
<span class="sourceLineNo">006</span>// 32, 1<a name="line.6"></a>
<span class="sourceLineNo">007</span>import java.util.*;<a name="line.7"></a>
<span class="sourceLineNo">008</span>// 33, 1<a name="line.8"></a>
<span class="sourceLineNo">009</span>import org.apache.hadoop.hbase.HBaseConfiguration;<a name="line.9"></a>
<span class="sourceLineNo">010</span>// 34, 1<a name="line.10"></a>
<span class="sourceLineNo">011</span>import org.apache.hadoop.hbase.HConstants;<a name="line.11"></a>
<span class="sourceLineNo">012</span>// 35, 1<a name="line.12"></a>
<span class="sourceLineNo">013</span>import org.apache.hadoop.hbase.HRegionInfo;<a name="line.13"></a>
<span class="sourceLineNo">014</span>// 36, 1<a name="line.14"></a>
<span class="sourceLineNo">015</span>import org.apache.hadoop.hbase.HTableDescriptor;<a name="line.15"></a>
<span class="sourceLineNo">016</span>// 37, 1<a name="line.16"></a>
<span class="sourceLineNo">017</span>import org.apache.hadoop.hbase.NamespaceDescriptor;<a name="line.17"></a>
<span class="sourceLineNo">018</span>// 38, 1<a name="line.18"></a>
<span class="sourceLineNo">019</span>import org.apache.hadoop.hbase.ServerLoad;<a name="line.19"></a>
<span class="sourceLineNo">020</span>// 39, 1<a name="line.20"></a>
<span class="sourceLineNo">021</span>import org.apache.hadoop.hbase.ServerName;<a name="line.21"></a>
<span class="sourceLineNo">022</span>// 40, 1<a name="line.22"></a>
<span class="sourceLineNo">023</span>import org.apache.hadoop.hbase.TableName;<a name="line.23"></a>
<span class="sourceLineNo">024</span>// 41, 1<a name="line.24"></a>
<span class="sourceLineNo">025</span>import org.apache.hadoop.hbase.client.Admin;<a name="line.25"></a>
<span class="sourceLineNo">026</span>// 42, 1<a name="line.26"></a>
<span class="sourceLineNo">027</span>import org.apache.hadoop.hbase.master.AssignmentManager;<a name="line.27"></a>
<span class="sourceLineNo">028</span>// 43, 1<a name="line.28"></a>
<span class="sourceLineNo">029</span>import org.apache.hadoop.hbase.master.DeadServer;<a name="line.29"></a>
<span class="sourceLineNo">030</span>// 44, 1<a name="line.30"></a>
<span class="sourceLineNo">031</span>import org.apache.hadoop.hbase.master.HMaster;<a name="line.31"></a>
<span class="sourceLineNo">032</span>// 45, 1<a name="line.32"></a>
<span class="sourceLineNo">033</span>import org.apache.hadoop.hbase.master.RegionState;<a name="line.33"></a>
<span class="sourceLineNo">034</span>// 46, 1<a name="line.34"></a>
<span class="sourceLineNo">035</span>import org.apache.hadoop.hbase.master.ServerManager;<a name="line.35"></a>
<span class="sourceLineNo">036</span>// 47, 1<a name="line.36"></a>
<span class="sourceLineNo">037</span>import org.apache.hadoop.hbase.protobuf.ProtobufUtil;<a name="line.37"></a>
<span class="sourceLineNo">038</span>// 48, 1<a name="line.38"></a>
<span class="sourceLineNo">039</span>import org.apache.hadoop.hbase.protobuf.generated.HBaseProtos.SnapshotDescription;<a name="line.39"></a>
<span class="sourceLineNo">040</span>// 49, 1<a name="line.40"></a>
<span class="sourceLineNo">041</span>import org.apache.hadoop.hbase.quotas.QuotaUtil;<a name="line.41"></a>
<span class="sourceLineNo">042</span>// 50, 1<a name="line.42"></a>
<span class="sourceLineNo">043</span>import org.apache.hadoop.hbase.security.access.AccessControlLists;<a name="line.43"></a>
<span class="sourceLineNo">044</span>// 51, 1<a name="line.44"></a>
<span class="sourceLineNo">045</span>import org.apache.hadoop.hbase.security.visibility.VisibilityConstants;<a name="line.45"></a>
<span class="sourceLineNo">046</span>// 52, 1<a name="line.46"></a>
<span class="sourceLineNo">047</span>import org.apache.hadoop.hbase.tool.Canary;<a name="line.47"></a>
<span class="sourceLineNo">048</span>// 53, 1<a name="line.48"></a>
<span class="sourceLineNo">049</span>import org.apache.hadoop.hbase.util.Bytes;<a name="line.49"></a>
<span class="sourceLineNo">050</span>// 54, 1<a name="line.50"></a>
<span class="sourceLineNo">051</span>import org.apache.hadoop.hbase.util.FSUtils;<a name="line.51"></a>
<span class="sourceLineNo">052</span>// 55, 1<a name="line.52"></a>
<span class="sourceLineNo">053</span>import org.apache.hadoop.hbase.util.JvmVersion;<a name="line.53"></a>
<span class="sourceLineNo">054</span>// 56, 1<a name="line.54"></a>
<span class="sourceLineNo">055</span>import org.apache.hadoop.util.StringUtils;<a name="line.55"></a>
<span class="sourceLineNo">056</span><a name="line.56"></a>
<span class="sourceLineNo">057</span>public class MasterStatusTmplImpl<a name="line.57"></a>
<span class="sourceLineNo">058</span>  extends org.jamon.AbstractTemplateImpl<a name="line.58"></a>
<span class="sourceLineNo">059</span>  implements org.apache.hadoop.hbase.tmpl.master.MasterStatusTmpl.Intf<a name="line.59"></a>
<span class="sourceLineNo">060</span><a name="line.60"></a>
<span class="sourceLineNo">061</span>{<a name="line.61"></a>
<span class="sourceLineNo">062</span>  private final HMaster master;<a name="line.62"></a>
<span class="sourceLineNo">063</span>  private final Set&lt;ServerName&gt; deadServers;<a name="line.63"></a>
<span class="sourceLineNo">064</span>  private final Map&lt;String,Integer&gt; frags;<a name="line.64"></a>
<span class="sourceLineNo">065</span>  private final boolean catalogJanitorEnabled;<a name="line.65"></a>
<span class="sourceLineNo">066</span>  private final ServerManager serverManager;<a name="line.66"></a>
<span class="sourceLineNo">067</span>  private final String format;<a name="line.67"></a>
<span class="sourceLineNo">068</span>  private final AssignmentManager assignmentManager;<a name="line.68"></a>
<span class="sourceLineNo">069</span>  private final List&lt;ServerName&gt; servers;<a name="line.69"></a>
<span class="sourceLineNo">070</span>  private final String filter;<a name="line.70"></a>
<span class="sourceLineNo">071</span>  private final ServerName metaLocation;<a name="line.71"></a>
<span class="sourceLineNo">072</span>  // 68, 1<a name="line.72"></a>
<span class="sourceLineNo">073</span>  <a name="line.73"></a>
<span class="sourceLineNo">074</span>  public String formatZKString() {<a name="line.74"></a>
<span class="sourceLineNo">075</span>    StringBuilder quorums = new StringBuilder();<a name="line.75"></a>
<span class="sourceLineNo">076</span>    String zkQuorum = master.getZooKeeper().getQuorum();<a name="line.76"></a>
<span class="sourceLineNo">077</span><a name="line.77"></a>
<span class="sourceLineNo">078</span>    if (null == zkQuorum) {<a name="line.78"></a>
<span class="sourceLineNo">079</span>      return quorums.toString();<a name="line.79"></a>
<span class="sourceLineNo">080</span>    }<a name="line.80"></a>
<span class="sourceLineNo">081</span><a name="line.81"></a>
<span class="sourceLineNo">082</span>    String[] zks = zkQuorum.split(",");<a name="line.82"></a>
<span class="sourceLineNo">083</span><a name="line.83"></a>
<span class="sourceLineNo">084</span>    if (zks.length == 0) {<a name="line.84"></a>
<span class="sourceLineNo">085</span>      return quorums.toString();<a name="line.85"></a>
<span class="sourceLineNo">086</span>    }<a name="line.86"></a>
<span class="sourceLineNo">087</span><a name="line.87"></a>
<span class="sourceLineNo">088</span>    for(int i = 0; i &lt; zks.length; ++i) {<a name="line.88"></a>
<span class="sourceLineNo">089</span>      quorums.append(zks[i].trim());<a name="line.89"></a>
<span class="sourceLineNo">090</span><a name="line.90"></a>
<span class="sourceLineNo">091</span>      if (i != (zks.length - 1)) {<a name="line.91"></a>
<span class="sourceLineNo">092</span>        quorums.append("&lt;br/&gt;");<a name="line.92"></a>
<span class="sourceLineNo">093</span>      }<a name="line.93"></a>
<span class="sourceLineNo">094</span>    }<a name="line.94"></a>
<span class="sourceLineNo">095</span><a name="line.95"></a>
<span class="sourceLineNo">096</span>    return quorums.toString();<a name="line.96"></a>
<span class="sourceLineNo">097</span>  }<a name="line.97"></a>
<span class="sourceLineNo">098</span><a name="line.98"></a>
<span class="sourceLineNo">099</span>  protected static org.apache.hadoop.hbase.tmpl.master.MasterStatusTmpl.ImplData __jamon_setOptionalArguments(org.apache.hadoop.hbase.tmpl.master.MasterStatusTmpl.ImplData p_implData)<a name="line.99"></a>
<span class="sourceLineNo">100</span>  {<a name="line.100"></a>
<span class="sourceLineNo">101</span>    if(! p_implData.getDeadServers__IsNotDefault())<a name="line.101"></a>
<span class="sourceLineNo">102</span>    {<a name="line.102"></a>
<span class="sourceLineNo">103</span>      p_implData.setDeadServers(null);<a name="line.103"></a>
<span class="sourceLineNo">104</span>    }<a name="line.104"></a>
<span class="sourceLineNo">105</span>    if(! p_implData.getFrags__IsNotDefault())<a name="line.105"></a>
<span class="sourceLineNo">106</span>    {<a name="line.106"></a>
<span class="sourceLineNo">107</span>      p_implData.setFrags(null);<a name="line.107"></a>
<span class="sourceLineNo">108</span>    }<a name="line.108"></a>
<span class="sourceLineNo">109</span>    if(! p_implData.getCatalogJanitorEnabled__IsNotDefault())<a name="line.109"></a>
<span class="sourceLineNo">110</span>    {<a name="line.110"></a>
<span class="sourceLineNo">111</span>      p_implData.setCatalogJanitorEnabled(true);<a name="line.111"></a>
<span class="sourceLineNo">112</span>    }<a name="line.112"></a>
<span class="sourceLineNo">113</span>    if(! p_implData.getServerManager__IsNotDefault())<a name="line.113"></a>
<span class="sourceLineNo">114</span>    {<a name="line.114"></a>
<span class="sourceLineNo">115</span>      p_implData.setServerManager(null);<a name="line.115"></a>
<span class="sourceLineNo">116</span>    }<a name="line.116"></a>
<span class="sourceLineNo">117</span>    if(! p_implData.getFormat__IsNotDefault())<a name="line.117"></a>
<span class="sourceLineNo">118</span>    {<a name="line.118"></a>
<span class="sourceLineNo">119</span>      p_implData.setFormat("html");<a name="line.119"></a>
<span class="sourceLineNo">120</span>    }<a name="line.120"></a>
<span class="sourceLineNo">121</span>    if(! p_implData.getAssignmentManager__IsNotDefault())<a name="line.121"></a>
<span class="sourceLineNo">122</span>    {<a name="line.122"></a>
<span class="sourceLineNo">123</span>      p_implData.setAssignmentManager(null);<a name="line.123"></a>
<span class="sourceLineNo">124</span>    }<a name="line.124"></a>
<span class="sourceLineNo">125</span>    if(! p_implData.getServers__IsNotDefault())<a name="line.125"></a>
<span class="sourceLineNo">126</span>    {<a name="line.126"></a>
<span class="sourceLineNo">127</span>      p_implData.setServers(null);<a name="line.127"></a>
<span class="sourceLineNo">128</span>    }<a name="line.128"></a>
<span class="sourceLineNo">129</span>    if(! p_implData.getFilter__IsNotDefault())<a name="line.129"></a>
<span class="sourceLineNo">130</span>    {<a name="line.130"></a>
<span class="sourceLineNo">131</span>      p_implData.setFilter("general");<a name="line.131"></a>
<span class="sourceLineNo">132</span>    }<a name="line.132"></a>
<span class="sourceLineNo">133</span>    if(! p_implData.getMetaLocation__IsNotDefault())<a name="line.133"></a>
<span class="sourceLineNo">134</span>    {<a name="line.134"></a>
<span class="sourceLineNo">135</span>      p_implData.setMetaLocation(null);<a name="line.135"></a>
<span class="sourceLineNo">136</span>    }<a name="line.136"></a>
<span class="sourceLineNo">137</span>    return p_implData;<a name="line.137"></a>
<span class="sourceLineNo">138</span>  }<a name="line.138"></a>
<span class="sourceLineNo">139</span>  public MasterStatusTmplImpl(org.jamon.TemplateManager p_templateManager, org.apache.hadoop.hbase.tmpl.master.MasterStatusTmpl.ImplData p_implData)<a name="line.139"></a>
<span class="sourceLineNo">140</span>  {<a name="line.140"></a>
<span class="sourceLineNo">141</span>    super(p_templateManager, __jamon_setOptionalArguments(p_implData));<a name="line.141"></a>
<span class="sourceLineNo">142</span>    master = p_implData.getMaster();<a name="line.142"></a>
<span class="sourceLineNo">143</span>    deadServers = p_implData.getDeadServers();<a name="line.143"></a>
<span class="sourceLineNo">144</span>    frags = p_implData.getFrags();<a name="line.144"></a>
<span class="sourceLineNo">145</span>    catalogJanitorEnabled = p_implData.getCatalogJanitorEnabled();<a name="line.145"></a>
<span class="sourceLineNo">146</span>    serverManager = p_implData.getServerManager();<a name="line.146"></a>
<span class="sourceLineNo">147</span>    format = p_implData.getFormat();<a name="line.147"></a>
<span class="sourceLineNo">148</span>    assignmentManager = p_implData.getAssignmentManager();<a name="line.148"></a>
<span class="sourceLineNo">149</span>    servers = p_implData.getServers();<a name="line.149"></a>
<span class="sourceLineNo">150</span>    filter = p_implData.getFilter();<a name="line.150"></a>
<span class="sourceLineNo">151</span>    metaLocation = p_implData.getMetaLocation();<a name="line.151"></a>
<span class="sourceLineNo">152</span>  }<a name="line.152"></a>
<span class="sourceLineNo">153</span>  <a name="line.153"></a>
<span class="sourceLineNo">154</span>  @Override public void renderNoFlush(final java.io.Writer jamonWriter)<a name="line.154"></a>
<span class="sourceLineNo">155</span>    throws java.io.IOException<a name="line.155"></a>
<span class="sourceLineNo">156</span>  {<a name="line.156"></a>
<span class="sourceLineNo">157</span>    // 59, 1<a name="line.157"></a>
<span class="sourceLineNo">158</span>    if (format.equals("json") )<a name="line.158"></a>
<span class="sourceLineNo">159</span>    {<a name="line.159"></a>
<span class="sourceLineNo">160</span>      // 59, 30<a name="line.160"></a>
<span class="sourceLineNo">161</span>      jamonWriter.write("\n  ");<a name="line.161"></a>
<span class="sourceLineNo">162</span>      // 60, 3<a name="line.162"></a>
<span class="sourceLineNo">163</span>      {<a name="line.163"></a>
<span class="sourceLineNo">164</span>        org.apache.hadoop.hbase.tmpl.common.TaskMonitorTmpl __jamon__var_6 = new org.apache.hadoop.hbase.tmpl.common.TaskMonitorTmpl(this.getTemplateManager());<a name="line.164"></a>
<span class="sourceLineNo">165</span>        __jamon__var_6.setFormat("json" );<a name="line.165"></a>
<span class="sourceLineNo">166</span>        __jamon__var_6.setFilter(filter);<a name="line.166"></a>
<span class="sourceLineNo">167</span>        __jamon__var_6.renderNoFlush(jamonWriter);<a name="line.167"></a>
<span class="sourceLineNo">168</span>      }<a name="line.168"></a>
<span class="sourceLineNo">169</span>      // 60, 68<a name="line.169"></a>
<span class="sourceLineNo">170</span>      jamonWriter.write("\n  ");<a name="line.170"></a>
<span class="sourceLineNo">171</span>      // 61, 3<a name="line.171"></a>
<span class="sourceLineNo">172</span>      return; <a name="line.172"></a>
<span class="sourceLineNo">173</span>    }<a name="line.173"></a>
<span class="sourceLineNo">174</span>    // 62, 7<a name="line.174"></a>
<span class="sourceLineNo">175</span>    jamonWriter.write("\n");<a name="line.175"></a>
<span class="sourceLineNo">176</span>    // 63, 1<a name="line.176"></a>
<span class="sourceLineNo">177</span>    <a name="line.177"></a>
<span class="sourceLineNo">178</span>ServerManager serverManager = master.getServerManager();<a name="line.178"></a>
<span class="sourceLineNo">179</span>AssignmentManager assignmentManager = master.getAssignmentManager();<a name="line.179"></a>
<span class="sourceLineNo">180</span><a name="line.180"></a>
<span class="sourceLineNo">181</span>    // 95, 1<a name="line.181"></a>
<span class="sourceLineNo">182</span>    jamonWriter.write("&lt;!--[if IE]&gt;\n&lt;!DOCTYPE html&gt;\n&lt;![endif]--&gt;\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n&lt;html lang=\"en\"&gt;\n  &lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;title&gt;");<a name="line.182"></a>
<span class="sourceLineNo">183</span>    // 102, 12<a name="line.183"></a>
<span class="sourceLineNo">184</span>    if (master.isActiveMaster() )<a name="line.184"></a>
<span class="sourceLineNo">185</span>    {<a name="line.185"></a>
<span class="sourceLineNo">186</span>      // 102, 43<a name="line.186"></a>
<span class="sourceLineNo">187</span>      jamonWriter.write("Master: ");<a name="line.187"></a>
<span class="sourceLineNo">188</span>    }<a name="line.188"></a>
<span class="sourceLineNo">189</span>    // 102, 51<a name="line.189"></a>
<span class="sourceLineNo">190</span>    else<a name="line.190"></a>
<span class="sourceLineNo">191</span>    {<a name="line.191"></a>
<span class="sourceLineNo">192</span>      // 102, 58<a name="line.192"></a>
<span class="sourceLineNo">193</span>      jamonWriter.write("Backup Master: ");<a name="line.193"></a>
<span class="sourceLineNo">194</span>    }<a name="line.194"></a>
<span class="sourceLineNo">195</span>    // 102, 79<a name="line.195"></a>
<span class="sourceLineNo">196</span>    jamonWriter.write("\n    ");<a name="line.196"></a>
<span class="sourceLineNo">197</span>    // 103, 5<a name="line.197"></a>
<span class="sourceLineNo">198</span>    org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(master.getServerName().getHostname()), jamonWriter);<a name="line.198"></a>
<span class="sourceLineNo">199</span>    // 103, 47<a name="line.199"></a>
<span class="sourceLineNo">200</span>    jamonWriter.write("&lt;/title&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n    &lt;meta name=\"description\" content=\"\"&gt;\n    &lt;link href=\"/static/css/bootstrap.min.css\" rel=\"stylesheet\"&gt;\n    &lt;link href=\"/static/css/bootstrap-theme.min.css\" rel=\"stylesheet\"&gt;\n    &lt;link href=\"/static/css/hbase.css\" rel=\"stylesheet\"&gt;\n  &lt;/head&gt;\n\n  &lt;body&gt;\n\n    &lt;div class=\"navbar  navbar-fixed-top navbar-default\"&gt;\n        &lt;div class=\"container-fluid\"&gt;\n            &lt;div class=\"navbar-header\"&gt;\n                &lt;button type=\"button\" class=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\".navbar-collapse\"&gt;\n                    &lt;span class=\"icon-bar\"&gt;&lt;/span&gt;\n                    &lt;span class=\"icon-bar\"&gt;&lt;/span&gt;\n                    &lt;span class=\"icon-bar\"&gt;&lt;/span&gt;\n                &lt;/button&gt;\n                &lt;a class=\"navbar-brand\" href=\"/master-status\"&gt;&lt;img src=\"/static/hbase_logo_small.png\" alt=\"HBase Logo\"/&gt;&lt;/a&gt;\n            &lt;/div&gt;\n            &lt;div class=\"collapse navbar-collapse\"&gt;\n                &lt;ul class=\"nav navbar-nav\"&gt;\n                &lt;li class=\"active\"&gt;&lt;a href=\"/\"&gt;Home&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=\"/tablesDetailed.jsp\"&gt;Table Details&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=\"/procedures.jsp\"&gt;Procedures&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=\"/logs/\"&gt;Local Logs&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=\"/logLevel\"&gt;Log Level&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=\"/dump\"&gt;Debug Dump&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=\"/jmx\"&gt;Metrics Dump&lt;/a&gt;&lt;/li&gt;\n                ");<a name="line.200"></a>
<span class="sourceLineNo">201</span>    // 132, 17<a name="line.201"></a>
<span class="sourceLineNo">202</span>    if (HBaseConfiguration.isShowConfInServlet())<a name="line.202"></a>
<span class="sourceLineNo">203</span>    {<a name="line.203"></a>
<span class="sourceLineNo">204</span>      // 132, 64<a name="line.204"></a>
<span class="sourceLineNo">205</span>      jamonWriter.write("\n                &lt;li&gt;&lt;a href=\"/conf\"&gt;HBase Configuration&lt;/a&gt;&lt;/li&gt;\n                ");<a name="line.205"></a>
<span class="sourceLineNo">206</span>    }<a name="line.206"></a>
<span class="sourceLineNo">207</span>    // 134, 23<a name="line.207"></a>
<span class="sourceLineNo">208</span>    jamonWriter.write("\n               &lt;/ul&gt;\n            &lt;/div&gt;&lt;!--/.nav-collapse --&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"container-fluid content\"&gt;\n\t");<a name="line.208"></a>
<span class="sourceLineNo">209</span>    // 141, 2<a name="line.209"></a>
<span class="sourceLineNo">210</span>    if (master.isActiveMaster() )<a name="line.210"></a>
<span class="sourceLineNo">211</span>    {<a name="line.211"></a>
<span class="sourceLineNo">212</span>      // 141, 33<a name="line.212"></a>
<span class="sourceLineNo">213</span>      jamonWriter.write("\n        &lt;div class=\"row inner_header\"&gt;\n            &lt;div class=\"page-header\"&gt;\n                &lt;h1&gt;Master &lt;small&gt;");<a name="line.213"></a>
<span class="sourceLineNo">214</span>      // 144, 35<a name="line.214"></a>
<span class="sourceLineNo">215</span>      org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(master.getServerName().getHostname()), jamonWriter);<a name="line.215"></a>
<span class="sourceLineNo">216</span>      // 144, 77<a name="line.216"></a>
<span class="sourceLineNo">217</span>      jamonWriter.write("&lt;/small&gt;&lt;/h1&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"row\"&gt;\n        &lt;!-- Various warnings that cluster admins should be aware of --&gt;\n        ");<a name="line.217"></a>
<span class="sourceLineNo">218</span>      // 150, 9<a name="line.218"></a>
<span class="sourceLineNo">219</span>      if (JvmVersion.isBadJvmVersion() )<a name="line.219"></a>
<span class="sourceLineNo">220</span>      {<a name="line.220"></a>
<span class="sourceLineNo">221</span>        // 150, 45<a name="line.221"></a>
<span class="sourceLineNo">222</span>        jamonWriter.write("\n          &lt;div class=\"alert alert-error\"&gt;\n          Your current JVM version ");<a name="line.222"></a>
<span class="sourceLineNo">223</span>        // 152, 36<a name="line.223"></a>
<span class="sourceLineNo">224</span>        org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(System.getProperty("java.version")), jamonWriter);<a name="line.224"></a>
<span class="sourceLineNo">225</span>        // 152, 76<a name="line.225"></a>
<span class="sourceLineNo">226</span>        jamonWriter.write(" is known to be\n          unstable with HBase. Please see the\n          &lt;a href=\"http://hbase.apache.org/book.html#trouble.log.gc\"&gt;HBase Reference Guide&lt;/a&gt;\n          for details.\n          &lt;/div&gt;\n        ");<a name="line.226"></a>
<span class="sourceLineNo">227</span>      }<a name="line.227"></a>
<span class="sourceLineNo">228</span>      // 157, 15<a name="line.228"></a>
<span class="sourceLineNo">229</span>      jamonWriter.write("\n        ");<a name="line.229"></a>
<span class="sourceLineNo">230</span>      // 158, 9<a name="line.230"></a>
<span class="sourceLineNo">231</span>      if (master.isInitialized() &amp;&amp; !catalogJanitorEnabled )<a name="line.231"></a>
<span class="sourceLineNo">232</span>      {<a name="line.232"></a>
<span class="sourceLineNo">233</span>        // 158, 65<a name="line.233"></a>
<span class="sourceLineNo">234</span>        jamonWriter.write("\n          &lt;div class=\"alert alert-error\"&gt;\n          Please note that your cluster is running with the CatalogJanitor disabled. It can be\n          re-enabled from the hbase shell by running the command 'catalogjanitor_switch true'\n          &lt;/div&gt;\n        ");<a name="line.234"></a>
<span class="sourceLineNo">235</span>      }<a name="line.235"></a>
<span class="sourceLineNo">236</span>      // 163, 15<a name="line.236"></a>
<span class="sourceLineNo">237</span>      jamonWriter.write("\n        ");<a name="line.237"></a>
<span class="sourceLineNo">238</span>      // 164, 9<a name="line.238"></a>
<span class="sourceLineNo">239</span>      if (!master.isBalancerOn() )<a name="line.239"></a>
<span class="sourceLineNo">240</span>      {<a name="line.240"></a>
<span class="sourceLineNo">241</span>        // 164, 39<a name="line.241"></a>
<span class="sourceLineNo">242</span>        jamonWriter.write("\n          &lt;div class=\"alert alert-warning\"&gt;\n            The Load Balancer is not enabled which will eventually cause performance degradation\n            in HBase as Regions will not be distributed across all RegionServers. The balancer\n            is only expected to be disabled during rolling upgrade scenarios.\n          &lt;/div&gt;\n        ");<a name="line.242"></a>
<span class="sourceLineNo">243</span>      }<a name="line.243"></a>
<span class="sourceLineNo">244</span>      // 170, 15<a name="line.244"></a>
<span class="sourceLineNo">245</span>      jamonWriter.write("\n\n        &lt;section&gt;\n            &lt;h2&gt;Region Servers&lt;/h2&gt;\n            ");<a name="line.245"></a>
<span class="sourceLineNo">246</span>      // 174, 13<a name="line.246"></a>
<span class="sourceLineNo">247</span>      {<a name="line.247"></a>
<span class="sourceLineNo">248</span>        org.apache.hadoop.hbase.tmpl.master.RegionServerListTmpl __jamon__var_7 = new org.apache.hadoop.hbase.tmpl.master.RegionServerListTmpl(this.getTemplateManager());<a name="line.248"></a>
<span class="sourceLineNo">249</span>        __jamon__var_7.setServers(servers );<a name="line.249"></a>
<span class="sourceLineNo">250</span>        __jamon__var_7.renderNoFlush(jamonWriter, master);<a name="line.250"></a>
<span class="sourceLineNo">251</span>      }<a name="line.251"></a>
<span class="sourceLineNo">252</span>      // 174, 74<a name="line.252"></a>
<span class="sourceLineNo">253</span>      jamonWriter.write("\n\n            ");<a name="line.253"></a>
<span class="sourceLineNo">254</span>      // 176, 13<a name="line.254"></a>
<span class="sourceLineNo">255</span>      if ((deadServers != null) )<a name="line.255"></a>
<span class="sourceLineNo">256</span>      {<a name="line.256"></a>
<span class="sourceLineNo">257</span>        // 176, 42<a name="line.257"></a>
<span class="sourceLineNo">258</span>        jamonWriter.write("\n                ");<a name="line.258"></a>
<span class="sourceLineNo">259</span>        // 177, 17<a name="line.259"></a>
<span class="sourceLineNo">260</span>        {<a name="line.260"></a>
<span class="sourceLineNo">261</span>          // 177, 17<a name="line.261"></a>
<span class="sourceLineNo">262</span>          __jamon_innerUnit__deadRegionServers(jamonWriter);<a name="line.262"></a>
<span class="sourceLineNo">263</span>        }<a name="line.263"></a>
<span class="sourceLineNo">264</span>        // 177, 40<a name="line.264"></a>
<span class="sourceLineNo">265</span>        jamonWriter.write("\n            ");<a name="line.265"></a>
<span class="sourceLineNo">266</span>      }<a name="line.266"></a>
<span class="sourceLineNo">267</span>      // 178, 19<a name="line.267"></a>
<span class="sourceLineNo">268</span>      jamonWriter.write("\n        &lt;/section&gt;\n        &lt;section&gt;\n            ");<a name="line.268"></a>
<span class="sourceLineNo">269</span>      // 181, 13<a name="line.269"></a>
<span class="sourceLineNo">270</span>      {<a name="line.270"></a>
<span class="sourceLineNo">271</span>        org.apache.hadoop.hbase.tmpl.master.BackupMasterStatusTmpl __jamon__var_8 = new org.apache.hadoop.hbase.tmpl.master.BackupMasterStatusTmpl(this.getTemplateManager());<a name="line.271"></a>
<span class="sourceLineNo">272</span>        __jamon__var_8.renderNoFlush(jamonWriter, master );<a name="line.272"></a>
<span class="sourceLineNo">273</span>      }<a name="line.273"></a>
<span class="sourceLineNo">274</span>      // 181, 58<a name="line.274"></a>
<span class="sourceLineNo">275</span>      jamonWriter.write("\n        &lt;/section&gt;\n        &lt;section&gt;\n            &lt;h2&gt;Tables&lt;/h2&gt;\n            &lt;div class=\"tabbable\"&gt;\n                &lt;ul class=\"nav nav-pills\"&gt;\n                    &lt;li class=\"active\"&gt;\n                        &lt;a href=\"#tab_userTables\" data-toggle=\"tab\"&gt;User Tables&lt;/a&gt;\n                    &lt;/li&gt;\n                    &lt;li class=\"\"&gt;\n                        &lt;a href=\"#tab_catalogTables\" data-toggle=\"tab\"&gt;System Tables&lt;/a&gt;\n                    &lt;/li&gt;\n                    &lt;li class=\"\"&gt;\n                        &lt;a href=\"#tab_userSnapshots\" data-toggle=\"tab\"&gt;Snapshots&lt;/a&gt;\n                    &lt;/li&gt;\n                &lt;/ul&gt;\n                &lt;div class=\"tab-content\" style=\"padding-bottom: 9px; border-bottom: 1px solid #ddd;\"&gt;\n                    &lt;div class=\"tab-pane active\" id=\"tab_userTables\"&gt;\n                        ");<a name="line.275"></a>
<span class="sourceLineNo">276</span>      // 199, 25<a name="line.276"></a>
<span class="sourceLineNo">277</span>      if ((metaLocation != null) )<a name="line.277"></a>
<span class="sourceLineNo">278</span>      {<a name="line.278"></a>
<span class="sourceLineNo">279</span>        // 199, 55<a name="line.279"></a>
<span class="sourceLineNo">280</span>        jamonWriter.write("\n                            ");<a name="line.280"></a>
<span class="sourceLineNo">281</span>        // 200, 29<a name="line.281"></a>
<span class="sourceLineNo">282</span>        {<a name="line.282"></a>
<span class="sourceLineNo">283</span>          // 200, 29<a name="line.283"></a>
<span class="sourceLineNo">284</span>          __jamon_innerUnit__userTables(jamonWriter);<a name="line.284"></a>
<span class="sourceLineNo">285</span>        }<a name="line.285"></a>
<span class="sourceLineNo">286</span>        // 200, 45<a name="line.286"></a>
<span class="sourceLineNo">287</span>        jamonWriter.write("\n                        ");<a name="line.287"></a>
<span class="sourceLineNo">288</span>      }<a name="line.288"></a>
<span class="sourceLineNo">289</span>      // 201, 31<a name="line.289"></a>
<span class="sourceLineNo">290</span>      jamonWriter.write("\n                    &lt;/div&gt;\n                    &lt;div class=\"tab-pane\" id=\"tab_catalogTables\"&gt;\n                        ");<a name="line.290"></a>
<span class="sourceLineNo">291</span>      // 204, 25<a name="line.291"></a>
<span class="sourceLineNo">292</span>      if ((metaLocation != null) )<a name="line.292"></a>
<span class="sourceLineNo">293</span>      {<a name="line.293"></a>
<span class="sourceLineNo">294</span>        // 204, 55<a name="line.294"></a>
<span class="sourceLineNo">295</span>        jamonWriter.write("\n                            ");<a name="line.295"></a>
<span class="sourceLineNo">296</span>        // 205, 29<a name="line.296"></a>
<span class="sourceLineNo">297</span>        {<a name="line.297"></a>
<span class="sourceLineNo">298</span>          // 205, 29<a name="line.298"></a>
<span class="sourceLineNo">299</span>          __jamon_innerUnit__catalogTables(jamonWriter);<a name="line.299"></a>
<span class="sourceLineNo">300</span>        }<a name="line.300"></a>
<span class="sourceLineNo">301</span>        // 205, 48<a name="line.301"></a>
<span class="sourceLineNo">302</span>        jamonWriter.write("\n                        ");<a name="line.302"></a>
<span class="sourceLineNo">303</span>      }<a name="line.303"></a>
<span class="sourceLineNo">304</span>      // 206, 31<a name="line.304"></a>
<span class="sourceLineNo">305</span>      jamonWriter.write("\n                    &lt;/div&gt;\n                    &lt;div class=\"tab-pane\" id=\"tab_userSnapshots\"&gt;\n                        ");<a name="line.305"></a>
<span class="sourceLineNo">306</span>      // 209, 25<a name="line.306"></a>
<span class="sourceLineNo">307</span>      {<a name="line.307"></a>
<span class="sourceLineNo">308</span>        // 209, 25<a name="line.308"></a>
<span class="sourceLineNo">309</span>        __jamon_innerUnit__userSnapshots(jamonWriter);<a name="line.309"></a>
<span class="sourceLineNo">310</span>      }<a name="line.310"></a>
<span class="sourceLineNo">311</span>      // 209, 44<a name="line.311"></a>
<span class="sourceLineNo">312</span>      jamonWriter.write("\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/section&gt;\n        ");<a name="line.312"></a>
<span class="sourceLineNo">313</span>      // 214, 9<a name="line.313"></a>
<span class="sourceLineNo">314</span>      if (master.getAssignmentManager() != null )<a name="line.314"></a>
<span class="sourceLineNo">315</span>      {<a name="line.315"></a>
<span class="sourceLineNo">316</span>        // 214, 54<a name="line.316"></a>
<span class="sourceLineNo">317</span>        jamonWriter.write("\n        ");<a name="line.317"></a>
<span class="sourceLineNo">318</span>        // 215, 9<a name="line.318"></a>
<span class="sourceLineNo">319</span>        {<a name="line.319"></a>
<span class="sourceLineNo">320</span>          org.apache.hadoop.hbase.tmpl.master.AssignmentManagerStatusTmpl __jamon__var_9 = new org.apache.hadoop.hbase.tmpl.master.AssignmentManagerStatusTmpl(this.getTemplateManager());<a name="line.320"></a>
<span class="sourceLineNo">321</span>          __jamon__var_9.renderNoFlush(jamonWriter, master.getAssignmentManager());<a name="line.321"></a>
<span class="sourceLineNo">322</span>        }<a name="line.322"></a>
<span class="sourceLineNo">323</span>        // 215, 90<a name="line.323"></a>
<span class="sourceLineNo">324</span>        jamonWriter.write("\n        ");<a name="line.324"></a>
<span class="sourceLineNo">325</span>      }<a name="line.325"></a>
<span class="sourceLineNo">326</span>      // 216, 15<a name="line.326"></a>
<span class="sourceLineNo">327</span>      jamonWriter.write("\n\t");<a name="line.327"></a>
<span class="sourceLineNo">328</span>    }<a name="line.328"></a>
<span class="sourceLineNo">329</span>    // 217, 2<a name="line.329"></a>
<span class="sourceLineNo">330</span>    else<a name="line.330"></a>
<span class="sourceLineNo">331</span>    {<a name="line.331"></a>
<span class="sourceLineNo">332</span>      // 217, 9<a name="line.332"></a>
<span class="sourceLineNo">333</span>      jamonWriter.write("\n        &lt;section&gt;\n            ");<a name="line.333"></a>
<span class="sourceLineNo">334</span>      // 219, 13<a name="line.334"></a>
<span class="sourceLineNo">335</span>      {<a name="line.335"></a>
<span class="sourceLineNo">336</span>        org.apache.hadoop.hbase.tmpl.master.BackupMasterStatusTmpl __jamon__var_10 = new org.apache.hadoop.hbase.tmpl.master.BackupMasterStatusTmpl(this.getTemplateManager());<a name="line.336"></a>
<span class="sourceLineNo">337</span>        __jamon__var_10.renderNoFlush(jamonWriter, master );<a name="line.337"></a>
<span class="sourceLineNo">338</span>      }<a name="line.338"></a>
<span class="sourceLineNo">339</span>      // 219, 58<a name="line.339"></a>
<span class="sourceLineNo">340</span>      jamonWriter.write("\n        &lt;/section&gt;\n\t");<a name="line.340"></a>
<span class="sourceLineNo">341</span>    }<a name="line.341"></a>
<span class="sourceLineNo">342</span>    // 221, 8<a name="line.342"></a>
<span class="sourceLineNo">343</span>    jamonWriter.write("\n\n\n        &lt;section&gt;\n            ");<a name="line.343"></a>
<span class="sourceLineNo">344</span>    // 225, 13<a name="line.344"></a>
<span class="sourceLineNo">345</span>    {<a name="line.345"></a>
<span class="sourceLineNo">346</span>      org.apache.hadoop.hbase.tmpl.common.TaskMonitorTmpl __jamon__var_11 = new org.apache.hadoop.hbase.tmpl.common.TaskMonitorTmpl(this.getTemplateManager());<a name="line.346"></a>
<span class="sourceLineNo">347</span>      __jamon__var_11.setFilter(filter );<a name="line.347"></a>
<span class="sourceLineNo">348</span>      __jamon__var_11.renderNoFlush(jamonWriter);<a name="line.348"></a>
<span class="sourceLineNo">349</span>    }<a name="line.349"></a>
<span class="sourceLineNo">350</span>    // 225, 61<a name="line.350"></a>
<span class="sourceLineNo">351</span>    jamonWriter.write("\n        &lt;/section&gt;\n\n        &lt;section&gt;\n            &lt;h2&gt;Software Attributes&lt;/h2&gt;\n            &lt;table id=\"attributes_table\" class=\"table table-striped\"&gt;\n                &lt;tr&gt;\n                    &lt;th&gt;Attribute Name&lt;/th&gt;\n                    &lt;th&gt;Value&lt;/th&gt;\n                    &lt;th&gt;Description&lt;/th&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;HBase Version&lt;/td&gt;\n                    &lt;td&gt;");<a name="line.351"></a>
<span class="sourceLineNo">352</span>    // 238, 25<a name="line.352"></a>
<span class="sourceLineNo">353</span>    org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(org.apache.hadoop.hbase.util.VersionInfo.getVersion()), jamonWriter);<a name="line.353"></a>
<span class="sourceLineNo">354</span>    // 238, 84<a name="line.354"></a>
<span class="sourceLineNo">355</span>    jamonWriter.write(", revision=");<a name="line.355"></a>
<span class="sourceLineNo">356</span>    // 238, 95<a name="line.356"></a>
<span class="sourceLineNo">357</span>    org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(org.apache.hadoop.hbase.util.VersionInfo.getRevision()), jamonWriter);<a name="line.357"></a>
<span class="sourceLineNo">358</span>    // 238, 155<a name="line.358"></a>
<span class="sourceLineNo">359</span>    jamonWriter.write("&lt;/td&gt;&lt;td&gt;HBase version and revision&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;HBase Compiled&lt;/td&gt;\n                    &lt;td&gt;");<a name="line.359"></a>
<span class="sourceLineNo">360</span>    // 242, 25<a name="line.360"></a>
<span class="sourceLineNo">361</span>    org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(org.apache.hadoop.hbase.util.VersionInfo.getDate()), jamonWriter);<a name="line.361"></a>
<span class="sourceLineNo">362</span>    // 242, 81<a name="line.362"></a>
<span class="sourceLineNo">363</span>    jamonWriter.write(", ");<a name="line.363"></a>
<span class="sourceLineNo">364</span>    // 242, 83<a name="line.364"></a>
<span class="sourceLineNo">365</span>    org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(org.apache.hadoop.hbase.util.VersionInfo.getUser()), jamonWriter);<a name="line.365"></a>
<span class="sourceLineNo">366</span>    // 242, 139<a name="line.366"></a>
<span class="sourceLineNo">367</span>    jamonWriter.write("&lt;/td&gt;\n                    &lt;td&gt;When HBase version was compiled and by whom&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;HBase Source Checksum&lt;/td&gt;\n                    &lt;td&gt;");<a name="line.367"></a>
<span class="sourceLineNo">368</span>    // 247, 25<a name="line.368"></a>
<span class="sourceLineNo">369</span>    org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(org.apache.hadoop.hbase.util.VersionInfo.getSrcChecksum()), jamonWriter);<a name="line.369"></a>
<span class="sourceLineNo">370</span>    // 247, 88<a name="line.370"></a>
<span class="sourceLineNo">371</span>    jamonWriter.write("&lt;/td&gt;\n                    &lt;td&gt;HBase source MD5 checksum&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;Hadoop Version&lt;/td&gt;\n                    &lt;td&gt;");<a name="line.371"></a>
<span class="sourceLineNo">372</span>    // 252, 25<a name="line.372"></a>
<span class="sourceLineNo">373</span>    org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(org.apache.hadoop.util.VersionInfo.getVersion()), jamonWriter);<a name="line.373"></a>
<span class="sourceLineNo">374</span>    // 252, 78<a name="line.374"></a>
<span class="sourceLineNo">375</span>    jamonWriter.write(", revision=");<a name="line.375"></a>
<span class="sourceLineNo">376</span>    // 252, 89<a name="line.376"></a>
<span class="sourceLineNo">377</span>    org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(org.apache.hadoop.util.VersionInfo.getRevision()), jamonWriter);<a name="line.377"></a>
<span class="sourceLineNo">378</span>    // 252, 143<a name="line.378"></a>
<span class="sourceLineNo">379</span>    jamonWriter.write("&lt;/td&gt;\n                    &lt;td&gt;Hadoop version and revision&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;Hadoop Compiled&lt;/td&gt;\n                    &lt;td&gt;");<a name="line.379"></a>
<span class="sourceLineNo">380</span>    // 257, 25<a name="line.380"></a>
<span class="sourceLineNo">381</span>    org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(org.apache.hadoop.util.VersionInfo.getDate()), jamonWriter);<a name="line.381"></a>
<span class="sourceLineNo">382</span>    // 257, 75<a name="line.382"></a>
<span class="sourceLineNo">383</span>    jamonWriter.write(", ");<a name="line.383"></a>
<span class="sourceLineNo">384</span>    // 257, 77<a name="line.384"></a>
<span class="sourceLineNo">385</span>    org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(org.apache.hadoop.util.VersionInfo.getUser()), jamonWriter);<a name="line.385"></a>
<span class="sourceLineNo">386</span>    // 257, 127<a name="line.386"></a>
<span class="sourceLineNo">387</span>    jamonWriter.write("&lt;/td&gt;\n                    &lt;td&gt;When Hadoop version was compiled and by whom&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;Hadoop Source Checksum&lt;/td&gt;\n                    &lt;td&gt;");<a name="line.387"></a>
<span class="sourceLineNo">388</span>    // 262, 25<a name="line.388"></a>
<span class="sourceLineNo">389</span>    org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(org.apache.hadoop.util.VersionInfo.getSrcChecksum()), jamonWriter);<a name="line.389"></a>
<span class="sourceLineNo">390</span>    // 262, 82<a name="line.390"></a>
<span class="sourceLineNo">391</span>    jamonWriter.write("&lt;/td&gt;\n                    &lt;td&gt;Hadoop source MD5 checksum&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;ZooKeeper Client Version&lt;/td&gt;\n                    &lt;td&gt;");<a name="line.391"></a>
<span class="sourceLineNo">392</span>    // 267, 25<a name="line.392"></a>
<span class="sourceLineNo">393</span>    org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(org.apache.zookeeper.Version.getVersion()), jamonWriter);<a name="line.393"></a>
<span class="sourceLineNo">394</span>    // 267, 72<a name="line.394"></a>
<span class="sourceLineNo">395</span>    jamonWriter.write(", revision=");<a name="line.395"></a>
<span class="sourceLineNo">396</span>    // 267, 83<a name="line.396"></a>
<span class="sourceLineNo">397</span>    org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(org.apache.zookeeper.Version.getRevision()), jamonWriter);<a name="line.397"></a>
<span class="sourceLineNo">398</span>    // 267, 131<a name="line.398"></a>
<span class="sourceLineNo">399</span>    jamonWriter.write("&lt;/td&gt;\n                    &lt;td&gt;ZooKeeper client version and revision&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;ZooKeeper Client Compiled&lt;/td&gt;\n                    &lt;td&gt;");<a name="line.399"></a>
<span class="sourceLineNo">400</span>    // 272, 25<a name="line.400"></a>
<span class="sourceLineNo">401</span>    org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(org.apache.zookeeper.Version.getBuildDate()), jamonWriter);<a name="line.401"></a>
<span class="sourceLineNo">402</span>    // 272, 74<a name="line.402"></a>
<span class="sourceLineNo">403</span>    jamonWriter.write("&lt;/td&gt;\n                    &lt;td&gt;When ZooKeeper client version was compiled&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;Zookeeper Quorum&lt;/td&gt;\n                    &lt;td&gt; ");<a name="line.403"></a>
<span class="sourceLineNo">404</span>    // 278, 26<a name="line.404"></a>
<span class="sourceLineNo">405</span>    org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(formatZKString()), jamonWriter);<a name="line.405"></a>
<span class="sourceLineNo">406</span>    // 278, 48<a name="line.406"></a>
<span class="sourceLineNo">407</span>    jamonWriter.write(" &lt;/td&gt;\n                    &lt;td&gt;Addresses of all registered ZK servers. For more, see &lt;a href=\"/zk.jsp\"&gt;zk dump&lt;/a&gt;.&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;Zookeeper Base Path&lt;/td&gt;\n                    &lt;td&gt; ");<a name="line.407"></a>
<span class="sourceLineNo">408</span>    // 283, 26<a name="line.408"></a>
<span class="sourceLineNo">409</span>    org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(master.getZooKeeper().getBaseZNode()), jamonWriter);<a name="line.409"></a>
<span class="sourceLineNo">410</span>    // 283, 68<a name="line.410"></a>
<span class="sourceLineNo">411</span>    jamonWriter.write("&lt;/td&gt;\n                    &lt;td&gt;Root node of this cluster in ZK.&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;HBase Root Directory&lt;/td&gt;\n                    &lt;td&gt;");<a name="line.411"></a>
<span class="sourceLineNo">412</span>    // 288, 25<a name="line.412"></a>
<span class="sourceLineNo">413</span>    org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(FSUtils.getRootDir(master.getConfiguration()).toString()), jamonWriter);<a name="line.413"></a>
<span class="sourceLineNo">414</span>    // 288, 87<a name="line.414"></a>
<span class="sourceLineNo">415</span>    jamonWriter.write("&lt;/td&gt;\n                    &lt;td&gt;Location of HBase home directory&lt;/td&gt;\n                &lt;/tr&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;HMaster Start Time&lt;/td&gt;\n                    &lt;td&gt;");<a name="line.415"></a>
<span class="sourceLineNo">416</span>    // 293, 25<a name="line.416"></a>
<span class="sourceLineNo">417</span>    org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(new Date(master.getMasterStartTime())), jamonWriter);<a name="line.417"></a>
<span class="sourceLineNo">418</span>    // 293, 68<a name="line.418"></a>
<span class="sourceLineNo">419</span>    jamonWriter.write("&lt;/td&gt;\n                    &lt;td&gt;Date stamp of when this HMaster was started&lt;/td&gt;\n                &lt;/tr&gt;\n                ");<a name="line.419"></a>
<span class="sourceLineNo">420</span>    // 296, 17<a name="line.420"></a>
<span class="sourceLineNo">421</span>    if (master.isActiveMaster() )<a name="line.421"></a>
<span class="sourceLineNo">422</span>    {<a name="line.422"></a>
<span class="sourceLineNo">423</span>      // 296, 48<a name="line.423"></a>
<span class="sourceLineNo">424</span>      jamonWriter.write("\n\t                &lt;tr&gt;\n\t                    &lt;td&gt;HMaster Active Time&lt;/td&gt;\n\t                    &lt;td&gt;");<a name="line.424"></a>
<span class="sourceLineNo">425</span>      // 299, 26<a name="line.425"></a>
<span class="sourceLineNo">426</span>      org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(new Date(master.getMasterActiveTime())), jamonWriter);<a name="line.426"></a>
<span class="sourceLineNo">427</span>      // 299, 70<a name="line.427"></a>
<span class="sourceLineNo">428</span>      jamonWriter.write("&lt;/td&gt;\n\t                    &lt;td&gt;Date stamp of when this HMaster became active&lt;/td&gt;\n\t                &lt;/tr&gt;\n\t                &lt;tr&gt;\n\t                    &lt;td&gt;HBase Cluster ID&lt;/td&gt;\n\t                    &lt;td&gt;");<a name="line.428"></a>
<span class="sourceLineNo">429</span>      // 304, 26<a name="line.429"></a>
<span class="sourceLineNo">430</span>      org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(master.getClusterId() != null ? master.getClusterId() : "Not set"), jamonWriter);<a name="line.430"></a>
<span class="sourceLineNo">431</span>      // 304, 97<a name="line.431"></a>
<span class="sourceLineNo">432</span>      jamonWriter.write("&lt;/td&gt;\n\t                    &lt;td&gt;Unique identifier generated for each HBase cluster&lt;/td&gt;\n\t                &lt;/tr&gt;\n\t                &lt;tr&gt;\n\t                    &lt;td&gt;Load average&lt;/td&gt;\n\t                    &lt;td&gt;");<a name="line.432"></a>
<span class="sourceLineNo">433</span>      // 309, 26<a name="line.433"></a>
<span class="sourceLineNo">434</span>      org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(master.getServerManager() == null ? "0.00" :<a name="line.434"></a>
<span class="sourceLineNo">435</span>                        StringUtils.limitDecimalTo2(master.getServerManager().getAverageLoad())), jamonWriter);<a name="line.435"></a>
<span class="sourceLineNo">436</span>      // 310, 98<a name="line.436"></a>
<span class="sourceLineNo">437</span>      jamonWriter.write("&lt;/td&gt;\n\t                    &lt;td&gt;Average number of regions per regionserver. Naive computation.&lt;/td&gt;\n\t                &lt;/tr&gt;\n\t                ");<a name="line.437"></a>
<span class="sourceLineNo">438</span>      // 313, 18<a name="line.438"></a>
<span class="sourceLineNo">439</span>      if (frags != null )<a name="line.439"></a>
<span class="sourceLineNo">440</span>      {<a name="line.440"></a>
<span class="sourceLineNo">441</span>        // 313, 39<a name="line.441"></a>
<span class="sourceLineNo">442</span>        jamonWriter.write("\n\t                &lt;tr&gt;\n\t                    &lt;td&gt;Fragmentation&lt;/td&gt;\n\t                    &lt;td&gt;");<a name="line.442"></a>
<span class="sourceLineNo">443</span>        // 316, 26<a name="line.443"></a>
<span class="sourceLineNo">444</span>        org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(frags.get("-TOTAL-") != null ? frags.get("-TOTAL-").intValue() + "%" : "n/a"), jamonWriter);<a name="line.444"></a>
<span class="sourceLineNo">445</span>        // 316, 108<a name="line.445"></a>
<span class="sourceLineNo">446</span>        jamonWriter.write("&lt;/td&gt;\n\t                    &lt;td&gt;Overall fragmentation of all tables, including hbase:meta&lt;/td&gt;\n\t                &lt;/tr&gt;\n\t                ");<a name="line.446"></a>
<span class="sourceLineNo">447</span>      }<a name="line.447"></a>
<span class="sourceLineNo">448</span>      // 319, 24<a name="line.448"></a>
<span class="sourceLineNo">449</span>      jamonWriter.write("\n\t                &lt;tr&gt;\n\t                    &lt;td&gt;Coprocessors&lt;/td&gt;\n\t                    &lt;td&gt;");<a name="line.449"></a>
<span class="sourceLineNo">450</span>      // 322, 26<a name="line.450"></a>
<span class="sourceLineNo">451</span>      org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(master.getMasterCoprocessorHost() == null ? "[]" :<a name="line.451"></a>
<span class="sourceLineNo">452</span>                        java.util.Arrays.toString(master.getMasterCoprocessors())), jamonWriter);<a name="line.452"></a>
<span class="sourceLineNo">453</span>      // 323, 84<a name="line.453"></a>
<span class="sourceLineNo">454</span>      jamonWriter.write("&lt;/td&gt;\n\t                    &lt;td&gt;Coprocessors currently loaded by the master&lt;/td&gt;\n\t                &lt;/tr&gt;\n\t                &lt;tr&gt;\n\t                    &lt;td&gt;LoadBalancer&lt;/td&gt;\n\t                    &lt;td&gt;");<a name="line.454"></a>
<span class="sourceLineNo">455</span>      // 328, 26<a name="line.455"></a>
<span class="sourceLineNo">456</span>      org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(master.getLoadBalancerClassName()), jamonWriter);<a name="line.456"></a>
<span class="sourceLineNo">457</span>      // 328, 65<a name="line.457"></a>
<span class="sourceLineNo">458</span>      jamonWriter.write("&lt;/td&gt;\n\t                    &lt;td&gt;LoadBalancer to be used in the Master&lt;/td&gt;\n\t                &lt;/tr&gt;\n                ");<a name="line.458"></a>
<span class="sourceLineNo">459</span>    }<a name="line.459"></a>
<span class="sourceLineNo">460</span>    // 331, 23<a name="line.460"></a>
<span class="sourceLineNo">461</span>    jamonWriter.write("\n            &lt;/table&gt;\n        &lt;/section&gt;\n        &lt;/div&gt;\n    &lt;/div&gt; &lt;!-- /container --&gt;\n\n    &lt;script src=\"/static/js/jquery.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"/static/js/bootstrap.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;script src=\"/static/js/tab.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n\n");<a name="line.461"></a>
<span class="sourceLineNo">462</span>  }<a name="line.462"></a>
<span class="sourceLineNo">463</span>  <a name="line.463"></a>
<span class="sourceLineNo">464</span>  <a name="line.464"></a>
<span class="sourceLineNo">465</span>  // 455, 1<a name="line.465"></a>
<span class="sourceLineNo">466</span>  private void __jamon_innerUnit__userSnapshots(final java.io.Writer jamonWriter)<a name="line.466"></a>
<span class="sourceLineNo">467</span>    throws java.io.IOException<a name="line.467"></a>
<span class="sourceLineNo">468</span>  {<a name="line.468"></a>
<span class="sourceLineNo">469</span>    // 456, 1<a name="line.469"></a>
<span class="sourceLineNo">470</span>    <a name="line.470"></a>
<span class="sourceLineNo">471</span>   List&lt;SnapshotDescription&gt; snapshots = null;<a name="line.471"></a>
<span class="sourceLineNo">472</span>   try (Admin admin = master.getConnection().getAdmin()) {<a name="line.472"></a>
<span class="sourceLineNo">473</span>     snapshots = master.isInitialized() ? admin.listSnapshots() : null;<a name="line.473"></a>
<span class="sourceLineNo">474</span>   }<a name="line.474"></a>
<span class="sourceLineNo">475</span><a name="line.475"></a>
<span class="sourceLineNo">476</span>    // 462, 1<a name="line.476"></a>
<span class="sourceLineNo">477</span>    if ((snapshots != null &amp;&amp; snapshots.size() &gt; 0))<a name="line.477"></a>
<span class="sourceLineNo">478</span>    {<a name="line.478"></a>
<span class="sourceLineNo">479</span>      // 462, 51<a name="line.479"></a>
<span class="sourceLineNo">480</span>      jamonWriter.write("\n&lt;table class=\"table table-striped\"&gt;\n    &lt;tr&gt;\n        &lt;th&gt;Snapshot Name&lt;/th&gt;\n        &lt;th&gt;Table&lt;/th&gt;\n        &lt;th&gt;Creation Time&lt;/th&gt;\n    &lt;/tr&gt;\n    ");<a name="line.480"></a>
<span class="sourceLineNo">481</span>      // 469, 5<a name="line.481"></a>
<span class="sourceLineNo">482</span>      for (SnapshotDescription snapshotDesc : snapshots)<a name="line.482"></a>
<span class="sourceLineNo">483</span>      {<a name="line.483"></a>
<span class="sourceLineNo">484</span>        // 469, 57<a name="line.484"></a>
<span class="sourceLineNo">485</span>        jamonWriter.write("\n    ");<a name="line.485"></a>
<span class="sourceLineNo">486</span>        // 470, 5<a name="line.486"></a>
<span class="sourceLineNo">487</span>        <a name="line.487"></a>
<span class="sourceLineNo">488</span>        TableName snapshotTable = TableName.valueOf(snapshotDesc.getTable());<a name="line.488"></a>
<span class="sourceLineNo">489</span>    <a name="line.489"></a>
<span class="sourceLineNo">490</span>        // 473, 5<a name="line.490"></a>
<span class="sourceLineNo">491</span>        jamonWriter.write("&lt;tr&gt;\n        &lt;td&gt;&lt;a href=\"snapshot.jsp?name=");<a name="line.491"></a>
<span class="sourceLineNo">492</span>        // 474, 40<a name="line.492"></a>
<span class="sourceLineNo">493</span>        org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(snapshotDesc.getName()), jamonWriter);<a name="line.493"></a>
<span class="sourceLineNo">494</span>        // 474, 68<a name="line.494"></a>
<span class="sourceLineNo">495</span>        jamonWriter.write("\"&gt;");<a name="line.495"></a>
<span class="sourceLineNo">496</span>        // 474, 70<a name="line.496"></a>
<span class="sourceLineNo">497</span>        org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(snapshotDesc.getName()), jamonWriter);<a name="line.497"></a>
<span class="sourceLineNo">498</span>        // 474, 98<a name="line.498"></a>
<span class="sourceLineNo">499</span>        jamonWriter.write("&lt;/a&gt; &lt;/td&gt;\n        &lt;td&gt;&lt;a href=\"table.jsp?name=");<a name="line.499"></a>
<span class="sourceLineNo">500</span>        // 475, 37<a name="line.500"></a>
<span class="sourceLineNo">501</span>        org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(snapshotTable.getNameAsString()), jamonWriter);<a name="line.501"></a>
<span class="sourceLineNo">502</span>        // 475, 74<a name="line.502"></a>
<span class="sourceLineNo">503</span>        jamonWriter.write("\"&gt;");<a name="line.503"></a>
<span class="sourceLineNo">504</span>        // 475, 76<a name="line.504"></a>
<span class="sourceLineNo">505</span>        org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(snapshotTable.getNameAsString()), jamonWriter);<a name="line.505"></a>
<span class="sourceLineNo">506</span>        // 475, 113<a name="line.506"></a>
<span class="sourceLineNo">507</span>        jamonWriter.write("&lt;/a&gt;\n        &lt;/td&gt;\n        &lt;td&gt;");<a name="line.507"></a>
<span class="sourceLineNo">508</span>        // 477, 13<a name="line.508"></a>
<span class="sourceLineNo">509</span>        org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(new Date(snapshotDesc.getCreationTime())), jamonWriter);<a name="line.509"></a>
<span class="sourceLineNo">510</span>        // 477, 59<a name="line.510"></a>
<span class="sourceLineNo">511</span>        jamonWriter.write("&lt;/td&gt;\n    &lt;/tr&gt;\n    ");<a name="line.511"></a>
<span class="sourceLineNo">512</span>      }<a name="line.512"></a>
<span class="sourceLineNo">513</span>      // 479, 12<a name="line.513"></a>
<span class="sourceLineNo">514</span>      jamonWriter.write("\n    &lt;p&gt;");<a name="line.514"></a>
<span class="sourceLineNo">515</span>      // 480, 8<a name="line.515"></a>
<span class="sourceLineNo">516</span>      org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(snapshots.size()), jamonWriter);<a name="line.516"></a>
<span class="sourceLineNo">517</span>      // 480, 30<a name="line.517"></a>
<span class="sourceLineNo">518</span>      jamonWriter.write(" snapshot(s) in set.&lt;/p&gt;\n&lt;/table&gt;\n");<a name="line.518"></a>
<span class="sourceLineNo">519</span>    }<a name="line.519"></a>
<span class="sourceLineNo">520</span>    // 482, 7<a name="line.520"></a>
<span class="sourceLineNo">521</span>    jamonWriter.write("\n");<a name="line.521"></a>
<span class="sourceLineNo">522</span>  }<a name="line.522"></a>
<span class="sourceLineNo">523</span>  <a name="line.523"></a>
<span class="sourceLineNo">524</span>  <a name="line.524"></a>
<span class="sourceLineNo">525</span>  // 343, 1<a name="line.525"></a>
<span class="sourceLineNo">526</span>  private void __jamon_innerUnit__catalogTables(final java.io.Writer jamonWriter)<a name="line.526"></a>
<span class="sourceLineNo">527</span>    throws java.io.IOException<a name="line.527"></a>
<span class="sourceLineNo">528</span>  {<a name="line.528"></a>
<span class="sourceLineNo">529</span>    // 344, 1<a name="line.529"></a>
<span class="sourceLineNo">530</span>    <a name="line.530"></a>
<span class="sourceLineNo">531</span> HTableDescriptor[] sysTables = null;<a name="line.531"></a>
<span class="sourceLineNo">532</span> try (Admin admin = master.getConnection().getAdmin()) {<a name="line.532"></a>
<span class="sourceLineNo">533</span>   sysTables = master.isInitialized() ? admin.listTableDescriptorsByNamespace(<a name="line.533"></a>
<span class="sourceLineNo">534</span>     NamespaceDescriptor.SYSTEM_NAMESPACE_NAME_STR) : null;<a name="line.534"></a>
<span class="sourceLineNo">535</span> }<a name="line.535"></a>
<span class="sourceLineNo">536</span><a name="line.536"></a>
<span class="sourceLineNo">537</span>    // 351, 1<a name="line.537"></a>
<span class="sourceLineNo">538</span>    if ((sysTables != null &amp;&amp; sysTables.length &gt; 0))<a name="line.538"></a>
<span class="sourceLineNo">539</span>    {<a name="line.539"></a>
<span class="sourceLineNo">540</span>      // 351, 51<a name="line.540"></a>
<span class="sourceLineNo">541</span>      jamonWriter.write("\n&lt;table class=\"table table-striped\"&gt;\n&lt;tr&gt;\n    &lt;th&gt;Table Name&lt;/th&gt;\n    ");<a name="line.541"></a>
<span class="sourceLineNo">542</span>      // 355, 5<a name="line.542"></a>
<span class="sourceLineNo">543</span>      if ((frags != null) )<a name="line.543"></a>
<span class="sourceLineNo">544</span>      {<a name="line.544"></a>
<span class="sourceLineNo">545</span>        // 355, 28<a name="line.545"></a>
<span class="sourceLineNo">546</span>        jamonWriter.write("\n        &lt;th title=\"Fragmentation - Will be 0% after a major compaction and fluctuate during normal usage.\"&gt;Frag.&lt;/th&gt;\n    ");<a name="line.546"></a>
<span class="sourceLineNo">547</span>      }<a name="line.547"></a>
<span class="sourceLineNo">548</span>      // 357, 11<a name="line.548"></a>
<span class="sourceLineNo">549</span>      jamonWriter.write("\n    &lt;th&gt;Description&lt;/th&gt;\n&lt;/tr&gt;\n");<a name="line.549"></a>
<span class="sourceLineNo">550</span>      // 360, 1<a name="line.550"></a>
<span class="sourceLineNo">551</span>      for (HTableDescriptor systemTable : sysTables)<a name="line.551"></a>
<span class="sourceLineNo">552</span>      {<a name="line.552"></a>
<span class="sourceLineNo">553</span>        // 360, 49<a name="line.553"></a>
<span class="sourceLineNo">554</span>        jamonWriter.write("\n&lt;tr&gt;\n");<a name="line.554"></a>
<span class="sourceLineNo">555</span>        // 362, 1<a name="line.555"></a>
<span class="sourceLineNo">556</span>        TableName tableName = systemTable.getTableName();<a name="line.556"></a>
<span class="sourceLineNo">557</span>        // 363, 5<a name="line.557"></a>
<span class="sourceLineNo">558</span>        jamonWriter.write("&lt;td&gt;&lt;a href=\"table.jsp?name=");<a name="line.558"></a>
<span class="sourceLineNo">559</span>        // 363, 33<a name="line.559"></a>
<span class="sourceLineNo">560</span>        org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(tableName), jamonWriter);<a name="line.560"></a>
<span class="sourceLineNo">561</span>        // 363, 48<a name="line.561"></a>
<span class="sourceLineNo">562</span>        jamonWriter.write("\"&gt;");<a name="line.562"></a>
<span class="sourceLineNo">563</span>        // 363, 50<a name="line.563"></a>
<span class="sourceLineNo">564</span>        org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(tableName), jamonWriter);<a name="line.564"></a>
<span class="sourceLineNo">565</span>        // 363, 65<a name="line.565"></a>
<span class="sourceLineNo">566</span>        jamonWriter.write("&lt;/a&gt;&lt;/td&gt;\n    ");<a name="line.566"></a>
<span class="sourceLineNo">567</span>        // 364, 5<a name="line.567"></a>
<span class="sourceLineNo">568</span>        if ((frags != null))<a name="line.568"></a>
<span class="sourceLineNo">569</span>        {<a name="line.569"></a>
<span class="sourceLineNo">570</span>          // 364, 27<a name="line.570"></a>
<span class="sourceLineNo">571</span>          jamonWriter.write("\n        &lt;td align=\"center\"&gt;");<a name="line.571"></a>
<span class="sourceLineNo">572</span>          // 365, 28<a name="line.572"></a>
<span class="sourceLineNo">573</span>          org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(frags.get(tableName.getNameAsString()) != null ? frags.get(tableName.getNameAsString())<a name="line.573"></a>
<span class="sourceLineNo">574</span>        .intValue() + "%" : "n/a"), jamonWriter);<a name="line.574"></a>
<span class="sourceLineNo">575</span>          // 366, 37<a name="line.575"></a>
<span class="sourceLineNo">576</span>          jamonWriter.write("&lt;/td&gt;\n    ");<a name="line.576"></a>
<span class="sourceLineNo">577</span>        }<a name="line.577"></a>
<span class="sourceLineNo">578</span>        // 367, 11<a name="line.578"></a>
<span class="sourceLineNo">579</span>        jamonWriter.write("\n    ");<a name="line.579"></a>
<span class="sourceLineNo">580</span>        // 368, 5<a name="line.580"></a>
<span class="sourceLineNo">581</span>        String description = null;<a name="line.581"></a>
<span class="sourceLineNo">582</span>        if (tableName.equals(TableName.META_TABLE_NAME)){<a name="line.582"></a>
<span class="sourceLineNo">583</span>            description = "The hbase:meta table holds references to all User Table regions.";<a name="line.583"></a>
<span class="sourceLineNo">584</span>        } else if (tableName.equals(Canary.DEFAULT_WRITE_TABLE_NAME)){<a name="line.584"></a>
<span class="sourceLineNo">585</span>            description = "The hbase:canary table is used to sniff the write availbility of"<a name="line.585"></a>
<span class="sourceLineNo">586</span>              + " each regionserver.";<a name="line.586"></a>
<span class="sourceLineNo">587</span>        } else if (tableName.equals(AccessControlLists.ACL_TABLE_NAME)){<a name="line.587"></a>
<span class="sourceLineNo">588</span>            description = "The hbase:acl table holds information about acl";<a name="line.588"></a>
<span class="sourceLineNo">589</span>        } else if (tableName.equals(VisibilityConstants.LABELS_TABLE_NAME)){<a name="line.589"></a>
<span class="sourceLineNo">590</span>            description = "The hbase:labels table holds information about visibility labels.";<a name="line.590"></a>
<span class="sourceLineNo">591</span>        } else if (tableName.equals(TableName.NAMESPACE_TABLE_NAME)){<a name="line.591"></a>
<span class="sourceLineNo">592</span>            description = "The hbase:namespace table holds information about namespaces.";<a name="line.592"></a>
<span class="sourceLineNo">593</span>        } else if (tableName.equals(QuotaUtil.QUOTA_TABLE_NAME)){<a name="line.593"></a>
<span class="sourceLineNo">594</span>            description = "The hbase:quota table holds quota information about number" +<a name="line.594"></a>
<span class="sourceLineNo">595</span>            " or size of requests in a given time frame.";<a name="line.595"></a>
<span class="sourceLineNo">596</span>        } else if (tableName.equals(TableName.valueOf("hbase:rsgroup"))){<a name="line.596"></a>
<span class="sourceLineNo">597</span>            description = "The hbase:rsgroup table holds information about regionserver groups";<a name="line.597"></a>
<span class="sourceLineNo">598</span>        }<a name="line.598"></a>
<span class="sourceLineNo">599</span>    <a name="line.599"></a>
<span class="sourceLineNo">600</span>        // 387, 5<a name="line.600"></a>
<span class="sourceLineNo">601</span>        jamonWriter.write("&lt;td&gt;");<a name="line.601"></a>
<span class="sourceLineNo">602</span>        // 387, 9<a name="line.602"></a>
<span class="sourceLineNo">603</span>        org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(description), jamonWriter);<a name="line.603"></a>
<span class="sourceLineNo">604</span>        // 387, 26<a name="line.604"></a>
<span class="sourceLineNo">605</span>        jamonWriter.write("&lt;/td&gt;\n&lt;/tr&gt;\n");<a name="line.605"></a>
<span class="sourceLineNo">606</span>      }<a name="line.606"></a>
<span class="sourceLineNo">607</span>      // 389, 8<a name="line.607"></a>
<span class="sourceLineNo">608</span>      jamonWriter.write("\n&lt;/table&gt;\n");<a name="line.608"></a>
<span class="sourceLineNo">609</span>    }<a name="line.609"></a>
<span class="sourceLineNo">610</span>    // 391, 7<a name="line.610"></a>
<span class="sourceLineNo">611</span>    jamonWriter.write("\n");<a name="line.611"></a>
<span class="sourceLineNo">612</span>  }<a name="line.612"></a>
<span class="sourceLineNo">613</span>  <a name="line.613"></a>
<span class="sourceLineNo">614</span>  <a name="line.614"></a>
<span class="sourceLineNo">615</span>  // 394, 1<a name="line.615"></a>
<span class="sourceLineNo">616</span>  private void __jamon_innerUnit__userTables(final java.io.Writer jamonWriter)<a name="line.616"></a>
<span class="sourceLineNo">617</span>    throws java.io.IOException<a name="line.617"></a>
<span class="sourceLineNo">618</span>  {<a name="line.618"></a>
<span class="sourceLineNo">619</span>    // 395, 1<a name="line.619"></a>
<span class="sourceLineNo">620</span>    <a name="line.620"></a>
<span class="sourceLineNo">621</span>   HTableDescriptor[] tables = null;<a name="line.621"></a>
<span class="sourceLineNo">622</span>   try (Admin admin = master.getConnection().getAdmin()) {<a name="line.622"></a>
<span class="sourceLineNo">623</span>     tables = master.isInitialized() ? admin.listTables() : null;<a name="line.623"></a>
<span class="sourceLineNo">624</span>   }<a name="line.624"></a>
<span class="sourceLineNo">625</span><a name="line.625"></a>
<span class="sourceLineNo">626</span>    // 401, 1<a name="line.626"></a>
<span class="sourceLineNo">627</span>    if ((tables != null &amp;&amp; tables.length &gt; 0))<a name="line.627"></a>
<span class="sourceLineNo">628</span>    {<a name="line.628"></a>
<span class="sourceLineNo">629</span>      // 401, 45<a name="line.629"></a>
<span class="sourceLineNo">630</span>      jamonWriter.write("\n&lt;table class=\"table table-striped\"&gt;\n    &lt;tr&gt;\n        &lt;th&gt;Namespace&lt;/th&gt;\n        &lt;th&gt;Table Name&lt;/th&gt;\n        ");<a name="line.630"></a>
<span class="sourceLineNo">631</span>      // 406, 9<a name="line.631"></a>
<span class="sourceLineNo">632</span>      if ((frags != null) )<a name="line.632"></a>
<span class="sourceLineNo">633</span>      {<a name="line.633"></a>
<span class="sourceLineNo">634</span>        // 406, 32<a name="line.634"></a>
<span class="sourceLineNo">635</span>        jamonWriter.write("\n            &lt;th title=\"Fragmentation - Will be 0% after a major compaction and fluctuate during normal usage.\"&gt;Frag.&lt;/th&gt;\n        ");<a name="line.635"></a>
<span class="sourceLineNo">636</span>      }<a name="line.636"></a>
<span class="sourceLineNo">637</span>      // 408, 15<a name="line.637"></a>
<span class="sourceLineNo">638</span>      jamonWriter.write("\n        &lt;th&gt;Online Regions&lt;/th&gt;\n        &lt;th&gt;Offline Regions&lt;/th&gt;\n        &lt;th&gt;Failed Regions&lt;/th&gt;\n        &lt;th&gt;Split Regions&lt;/th&gt;\n        &lt;th&gt;Other Regions&lt;/th&gt;\n        &lt;th&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    ");<a name="line.638"></a>
<span class="sourceLineNo">639</span>      // 416, 5<a name="line.639"></a>
<span class="sourceLineNo">640</span>      for (HTableDescriptor htDesc : tables)<a name="line.640"></a>
<span class="sourceLineNo">641</span>      {<a name="line.641"></a>
<span class="sourceLineNo">642</span>        // 416, 45<a name="line.642"></a>
<span class="sourceLineNo">643</span>        jamonWriter.write("\n    ");<a name="line.643"></a>
<span class="sourceLineNo">644</span>        // 417, 5<a name="line.644"></a>
<span class="sourceLineNo">645</span>        <a name="line.645"></a>
<span class="sourceLineNo">646</span>      TableName tableName = htDesc.getTableName();<a name="line.646"></a>
<span class="sourceLineNo">647</span>      Map&lt;RegionState.State, List&lt;HRegionInfo&gt;&gt; tableRegions =<a name="line.647"></a>
<span class="sourceLineNo">648</span>          master.getAssignmentManager().getRegionStates()<a name="line.648"></a>
<span class="sourceLineNo">649</span>            .getRegionByStateOfTable(tableName);<a name="line.649"></a>
<span class="sourceLineNo">650</span>      int openRegionsCount = tableRegions.get(RegionState.State.OPEN).size();<a name="line.650"></a>
<span class="sourceLineNo">651</span>      int offlineRegionsCount = tableRegions.get(RegionState.State.OFFLINE).size();<a name="line.651"></a>
<span class="sourceLineNo">652</span>      int splitRegionsCount = tableRegions.get(RegionState.State.SPLIT).size();<a name="line.652"></a>
<span class="sourceLineNo">653</span>      int failedRegionsCount = tableRegions.get(RegionState.State.FAILED_OPEN).size()<a name="line.653"></a>
<span class="sourceLineNo">654</span>             + tableRegions.get(RegionState.State.FAILED_CLOSE).size();<a name="line.654"></a>
<span class="sourceLineNo">655</span>      int otherRegionsCount = 0;<a name="line.655"></a>
<span class="sourceLineNo">656</span>      for (List&lt;HRegionInfo&gt; list: tableRegions.values()) {<a name="line.656"></a>
<span class="sourceLineNo">657</span>         otherRegionsCount += list.size();<a name="line.657"></a>
<span class="sourceLineNo">658</span>      }<a name="line.658"></a>
<span class="sourceLineNo">659</span>      // now subtract known states<a name="line.659"></a>
<span class="sourceLineNo">660</span>      otherRegionsCount = otherRegionsCount - openRegionsCount<a name="line.660"></a>
<span class="sourceLineNo">661</span>                     - failedRegionsCount - offlineRegionsCount<a name="line.661"></a>
<span class="sourceLineNo">662</span>                     - splitRegionsCount;<a name="line.662"></a>
<span class="sourceLineNo">663</span>    <a name="line.663"></a>
<span class="sourceLineNo">664</span>        // 436, 5<a name="line.664"></a>
<span class="sourceLineNo">665</span>        jamonWriter.write("&lt;tr&gt;\n        &lt;td&gt;");<a name="line.665"></a>
<span class="sourceLineNo">666</span>        // 437, 13<a name="line.666"></a>
<span class="sourceLineNo">667</span>        org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(tableName.getNamespaceAsString()), jamonWriter);<a name="line.667"></a>
<span class="sourceLineNo">668</span>        // 437, 51<a name="line.668"></a>
<span class="sourceLineNo">669</span>        jamonWriter.write("&lt;/td&gt;\n        &lt;td&gt;&lt;a href=table.jsp?name=");<a name="line.669"></a>
<span class="sourceLineNo">670</span>        // 438, 36<a name="line.670"></a>
<span class="sourceLineNo">671</span>        org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(tableName.getNameAsString()), jamonWriter);<a name="line.671"></a>
<span class="sourceLineNo">672</span>        // 438, 69<a name="line.672"></a>
<span class="sourceLineNo">673</span>        jamonWriter.write("&gt;");<a name="line.673"></a>
<span class="sourceLineNo">674</span>        // 438, 70<a name="line.674"></a>
<span class="sourceLineNo">675</span>        org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(tableName.getQualifierAsString()), jamonWriter);<a name="line.675"></a>
<span class="sourceLineNo">676</span>        // 438, 108<a name="line.676"></a>
<span class="sourceLineNo">677</span>        jamonWriter.write("&lt;/a&gt; &lt;/td&gt;\n        ");<a name="line.677"></a>
<span class="sourceLineNo">678</span>        // 439, 9<a name="line.678"></a>
<span class="sourceLineNo">679</span>        if ((frags != null) )<a name="line.679"></a>
<span class="sourceLineNo">680</span>        {<a name="line.680"></a>
<span class="sourceLineNo">681</span>          // 439, 32<a name="line.681"></a>
<span class="sourceLineNo">682</span>          jamonWriter.write("\n            &lt;td align=\"center\"&gt;");<a name="line.682"></a>
<span class="sourceLineNo">683</span>          // 440, 32<a name="line.683"></a>
<span class="sourceLineNo">684</span>          org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(frags.get(tableName.getNameAsString()) != null ? frags.get(tableName.getNameAsString()).intValue() + "%" : "n/a"), jamonWriter);<a name="line.684"></a>
<span class="sourceLineNo">685</span>          // 440, 150<a name="line.685"></a>
<span class="sourceLineNo">686</span>          jamonWriter.write("&lt;/td&gt;\n        ");<a name="line.686"></a>
<span class="sourceLineNo">687</span>        }<a name="line.687"></a>
<span class="sourceLineNo">688</span>        // 441, 15<a name="line.688"></a>
<span class="sourceLineNo">689</span>        jamonWriter.write("\n        &lt;td&gt;");<a name="line.689"></a>
<span class="sourceLineNo">690</span>        // 442, 13<a name="line.690"></a>
<span class="sourceLineNo">691</span>        org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(openRegionsCount), jamonWriter);<a name="line.691"></a>
<span class="sourceLineNo">692</span>        // 442, 35<a name="line.692"></a>
<span class="sourceLineNo">693</span>        jamonWriter.write("&lt;/td&gt;\n        &lt;td&gt;");<a name="line.693"></a>
<span class="sourceLineNo">694</span>        // 443, 13<a name="line.694"></a>
<span class="sourceLineNo">695</span>        org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(offlineRegionsCount), jamonWriter);<a name="line.695"></a>
<span class="sourceLineNo">696</span>        // 443, 38<a name="line.696"></a>
<span class="sourceLineNo">697</span>        jamonWriter.write("&lt;/td&gt;\n        &lt;td&gt;");<a name="line.697"></a>
<span class="sourceLineNo">698</span>        // 444, 13<a name="line.698"></a>
<span class="sourceLineNo">699</span>        org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(failedRegionsCount), jamonWriter);<a name="line.699"></a>
<span class="sourceLineNo">700</span>        // 444, 37<a name="line.700"></a>
<span class="sourceLineNo">701</span>        jamonWriter.write("&lt;/td&gt;\n        &lt;td&gt;");<a name="line.701"></a>
<span class="sourceLineNo">702</span>        // 445, 13<a name="line.702"></a>
<span class="sourceLineNo">703</span>        org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(splitRegionsCount), jamonWriter);<a name="line.703"></a>
<span class="sourceLineNo">704</span>        // 445, 36<a name="line.704"></a>
<span class="sourceLineNo">705</span>        jamonWriter.write("&lt;/td&gt;\n        &lt;td&gt;");<a name="line.705"></a>
<span class="sourceLineNo">706</span>        // 446, 13<a name="line.706"></a>
<span class="sourceLineNo">707</span>        org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(otherRegionsCount), jamonWriter);<a name="line.707"></a>
<span class="sourceLineNo">708</span>        // 446, 36<a name="line.708"></a>
<span class="sourceLineNo">709</span>        jamonWriter.write("&lt;/td&gt;\n        &lt;td&gt;");<a name="line.709"></a>
<span class="sourceLineNo">710</span>        // 447, 13<a name="line.710"></a>
<span class="sourceLineNo">711</span>        org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(htDesc.toStringCustomizedValues()), jamonWriter);<a name="line.711"></a>
<span class="sourceLineNo">712</span>        // 447, 52<a name="line.712"></a>
<span class="sourceLineNo">713</span>        jamonWriter.write("&lt;/td&gt;\n    &lt;/tr&gt;\n    ");<a name="line.713"></a>
<span class="sourceLineNo">714</span>      }<a name="line.714"></a>
<span class="sourceLineNo">715</span>      // 449, 12<a name="line.715"></a>
<span class="sourceLineNo">716</span>      jamonWriter.write("\n    &lt;p&gt;");<a name="line.716"></a>
<span class="sourceLineNo">717</span>      // 450, 8<a name="line.717"></a>
<span class="sourceLineNo">718</span>      org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(tables.length), jamonWriter);<a name="line.718"></a>
<span class="sourceLineNo">719</span>      // 450, 27<a name="line.719"></a>
<span class="sourceLineNo">720</span>      jamonWriter.write(" table(s) in set. [&lt;a href=tablesDetailed.jsp&gt;Details&lt;/a&gt;]&lt;/p&gt;\n&lt;/table&gt;\n");<a name="line.720"></a>
<span class="sourceLineNo">721</span>    }<a name="line.721"></a>
<span class="sourceLineNo">722</span>    // 452, 7<a name="line.722"></a>
<span class="sourceLineNo">723</span>    jamonWriter.write("\n");<a name="line.723"></a>
<span class="sourceLineNo">724</span>  }<a name="line.724"></a>
<span class="sourceLineNo">725</span>  <a name="line.725"></a>
<span class="sourceLineNo">726</span>  <a name="line.726"></a>
<span class="sourceLineNo">727</span>  // 486, 1<a name="line.727"></a>
<span class="sourceLineNo">728</span>  private void __jamon_innerUnit__deadRegionServers(final java.io.Writer jamonWriter)<a name="line.728"></a>
<span class="sourceLineNo">729</span>    throws java.io.IOException<a name="line.729"></a>
<span class="sourceLineNo">730</span>  {<a name="line.730"></a>
<span class="sourceLineNo">731</span>    // 488, 1<a name="line.731"></a>
<span class="sourceLineNo">732</span>    if ((deadServers != null &amp;&amp; deadServers.size() &gt; 0))<a name="line.732"></a>
<span class="sourceLineNo">733</span>    {<a name="line.733"></a>
<span class="sourceLineNo">734</span>      // 488, 55<a name="line.734"></a>
<span class="sourceLineNo">735</span>      jamonWriter.write("\n&lt;h2&gt;Dead Region Servers&lt;/h2&gt;\n&lt;table class=\"table table-striped\"&gt;\n    &lt;tr&gt;\n        &lt;th&gt;&lt;/th&gt;\n        &lt;th&gt;ServerName&lt;/th&gt;\n        &lt;th&gt;Stop time&lt;/th&gt;\n    &lt;/tr&gt;\n    ");<a name="line.735"></a>
<span class="sourceLineNo">736</span>      // 496, 5<a name="line.736"></a>
<span class="sourceLineNo">737</span>      <a name="line.737"></a>
<span class="sourceLineNo">738</span>       DeadServer deadServerUtil = master.getServerManager().getDeadServers();<a name="line.738"></a>
<span class="sourceLineNo">739</span>       ServerName [] deadServerNames = deadServers.toArray(new ServerName[deadServers.size()]);<a name="line.739"></a>
<span class="sourceLineNo">740</span>         Arrays.sort(deadServerNames);<a name="line.740"></a>
<span class="sourceLineNo">741</span>         for (ServerName deadServerName: deadServerNames) {<a name="line.741"></a>
<span class="sourceLineNo">742</span>    <a name="line.742"></a>
<span class="sourceLineNo">743</span>      // 502, 5<a name="line.743"></a>
<span class="sourceLineNo">744</span>      jamonWriter.write("&lt;tr&gt;\n    \t&lt;th&gt;&lt;/th&gt;\n        &lt;td&gt;");<a name="line.744"></a>
<span class="sourceLineNo">745</span>      // 504, 13<a name="line.745"></a>
<span class="sourceLineNo">746</span>      org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(deadServerName), jamonWriter);<a name="line.746"></a>
<span class="sourceLineNo">747</span>      // 504, 33<a name="line.747"></a>
<span class="sourceLineNo">748</span>      jamonWriter.write("&lt;/td&gt;\n        &lt;td&gt;");<a name="line.748"></a>
<span class="sourceLineNo">749</span>      // 505, 13<a name="line.749"></a>
<span class="sourceLineNo">750</span>      org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(deadServerUtil.getTimeOfDeath(deadServerName)), jamonWriter);<a name="line.750"></a>
<span class="sourceLineNo">751</span>      // 505, 64<a name="line.751"></a>
<span class="sourceLineNo">752</span>      jamonWriter.write("&lt;/td&gt;\n    &lt;/tr&gt;\n    ");<a name="line.752"></a>
<span class="sourceLineNo">753</span>      // 507, 5<a name="line.753"></a>
<span class="sourceLineNo">754</span>      <a name="line.754"></a>
<span class="sourceLineNo">755</span>        }<a name="line.755"></a>
<span class="sourceLineNo">756</span>    <a name="line.756"></a>
<span class="sourceLineNo">757</span>      // 510, 5<a name="line.757"></a>
<span class="sourceLineNo">758</span>      jamonWriter.write("&lt;tr&gt;\n        &lt;th&gt;Total: &lt;/th&gt;\n        &lt;td&gt;servers: ");<a name="line.758"></a>
<span class="sourceLineNo">759</span>      // 512, 22<a name="line.759"></a>
<span class="sourceLineNo">760</span>      org.jamon.escaping.Escaping.NONE.write(org.jamon.emit.StandardEmitter.valueOf(deadServers.size()), jamonWriter);<a name="line.760"></a>
<span class="sourceLineNo">761</span>      // 512, 46<a name="line.761"></a>
<span class="sourceLineNo">762</span>      jamonWriter.write("&lt;/td&gt;\n        &lt;th&gt;&lt;/th&gt;\n    &lt;/tr&gt;\n&lt;/table&gt;\n");<a name="line.762"></a>
<span class="sourceLineNo">763</span>    }<a name="line.763"></a>
<span class="sourceLineNo">764</span>    // 516, 7<a name="line.764"></a>
<span class="sourceLineNo">765</span>    jamonWriter.write("\n");<a name="line.765"></a>
<span class="sourceLineNo">766</span>  }<a name="line.766"></a>
<span class="sourceLineNo">767</span>  <a name="line.767"></a>
<span class="sourceLineNo">768</span>  <a name="line.768"></a>
<span class="sourceLineNo">769</span>}<a name="line.769"></a>




























































</pre>
</div>
</body>
</html>
