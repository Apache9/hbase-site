<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>HLog (HBase 0.94.27 API)</title>
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="HLog (HBase 0.94.27 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/HLog.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/FailedLogCloseException.html" title="class in org.apache.hadoop.hbase.regionserver.wal"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.Entry.html" title="class in org.apache.hadoop.hbase.regionserver.wal"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/hadoop/hbase/regionserver/wal/HLog.html" target="_top">Frames</a></li>
<li><a href="HLog.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.hadoop.hbase.regionserver.wal</div>
<h2 title="Class HLog" class="title">Class HLog</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.hadoop.hbase.regionserver.wal.HLog</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>org.apache.hadoop.fs.Syncable</dd>
</dl>
<hr>
<br>
<pre>public class <a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.115">HLog</a>
extends <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements org.apache.hadoop.fs.Syncable</pre>
<div class="block">HLog stores all the edits to the HStore.  Its the hbase write-ahead-log
 implementation.

 It performs logfile-rolling, so external callers are not aware that the
 underlying file is being rolled.

 <p>
 There is one HLog per RegionServer.  All edits for all Regions carried by
 a particular RegionServer are entered first in the HLog.

 <p>
 Each HRegion is identified by a unique long <code>int</code>. HRegions do
 not need to declare themselves before using the HLog; they simply include
 their HRegion-id in the <code>append</code> or
 <code>completeCacheFlush</code> calls.

 <p>
 An HLog consists of multiple on-disk files, which have a chronological order.
 As data is flushed to other (better) on-disk structures, the log becomes
 obsolete. We can destroy all the log messages for a given HRegion-id up to
 the most-recent CACHEFLUSH message from that HRegion.

 <p>
 It's only practical to delete entire files. Thus, we delete an entire on-disk
 file F when all of the messages in F have a log-sequence-id that's older
 (smaller) than the most-recent CACHEFLUSH message for every HRegion that has
 a message in F.

 <p>
 Synchronized methods can never execute in parallel. However, between the
 start of a cache flush and the completion point, appends are allowed but log
 rolling is not. To prevent log rolling taking place during this period, a
 separate reentrant lock is used.

 <p>To read an HLog, call <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#getReader(org.apache.hadoop.fs.FileSystem,%20org.apache.hadoop.fs.Path,%20org.apache.hadoop.conf.Configuration)"><code>getReader(org.apache.hadoop.fs.FileSystem,
 org.apache.hadoop.fs.Path, org.apache.hadoop.conf.Configuration)</code></a>.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.Entry.html" title="class in org.apache.hadoop.hbase.regionserver.wal">HLog.Entry</a></strong></code>
<div class="block">Utility class that lets us keep track of the edit with it's key
 Only used when splitting logs</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.Metric.html" title="class in org.apache.hadoop.hbase.regionserver.wal">HLog.Metric</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.Reader.html" title="interface in org.apache.hadoop.hbase.regionserver.wal">HLog.Reader</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.Writer.html" title="interface in org.apache.hadoop.hbase.regionserver.wal">HLog.Writer</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#FIXED_OVERHEAD">FIXED_OVERHEAD</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#META_HLOG_FILE_EXTN">META_HLOG_FILE_EXTN</a></strong></code>
<div class="block">The META region's HLog filename extension</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#METAFAMILY">METAFAMILY</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#RECOVERED_EDITS_DIR">RECOVERED_EDITS_DIR</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#RECOVERED_LOG_TMPFILE_SUFFIX">RECOVERED_LOG_TMPFILE_SUFFIX</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#SEPARATE_HLOG_FOR_META">SEPARATE_HLOG_FOR_META</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#SPLIT_SKIP_ERRORS_DEFAULT">SPLIT_SKIP_ERRORS_DEFAULT</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#SPLITTING_EXT">SPLITTING_EXT</a></strong></code>
<div class="block">File Extension used while splitting an HLog into regions (HBASE-2312)</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#HLog(org.apache.hadoop.fs.FileSystem,%20org.apache.hadoop.fs.Path,%20org.apache.hadoop.fs.Path,%20org.apache.hadoop.conf.Configuration)">HLog</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
        org.apache.hadoop.fs.Path&nbsp;dir,
        org.apache.hadoop.fs.Path&nbsp;oldLogDir,
        org.apache.hadoop.conf.Configuration&nbsp;conf)</code>
<div class="block">Constructor.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#HLog(org.apache.hadoop.fs.FileSystem,%20org.apache.hadoop.fs.Path,%20org.apache.hadoop.fs.Path,%20org.apache.hadoop.conf.Configuration,%20java.util.List,%20boolean,%20java.lang.String,%20boolean)">HLog</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
        org.apache.hadoop.fs.Path&nbsp;dir,
        org.apache.hadoop.fs.Path&nbsp;oldLogDir,
        org.apache.hadoop.conf.Configuration&nbsp;conf,
        <a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/WALActionsListener.html" title="interface in org.apache.hadoop.hbase.regionserver.wal">WALActionsListener</a>&gt;&nbsp;listeners,
        boolean&nbsp;failIfLogDirExists,
        <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;prefix,
        boolean&nbsp;forMeta)</code>
<div class="block">Create an edit log at the given <code>dir</code> location.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#HLog(org.apache.hadoop.fs.FileSystem,%20org.apache.hadoop.fs.Path,%20org.apache.hadoop.fs.Path,%20org.apache.hadoop.conf.Configuration,%20java.util.List,%20java.lang.String)">HLog</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
        org.apache.hadoop.fs.Path&nbsp;dir,
        org.apache.hadoop.fs.Path&nbsp;oldLogDir,
        org.apache.hadoop.conf.Configuration&nbsp;conf,
        <a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/WALActionsListener.html" title="interface in org.apache.hadoop.hbase.regionserver.wal">WALActionsListener</a>&gt;&nbsp;listeners,
        <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;prefix)</code>
<div class="block">Create an edit log at the given <code>dir</code> location.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#abortCacheFlush(byte[])">abortCacheFlush</a></strong>(byte[]&nbsp;encodedRegionName)</code>
<div class="block">Abort a cache flush.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#append(org.apache.hadoop.hbase.HRegionInfo,%20byte[],%20org.apache.hadoop.hbase.regionserver.wal.WALEdit,%20long,%20org.apache.hadoop.hbase.HTableDescriptor)">append</a></strong>(<a href="../../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;info,
            byte[]&nbsp;tableName,
            <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/WALEdit.html" title="class in org.apache.hadoop.hbase.regionserver.wal">WALEdit</a>&nbsp;edits,
            long&nbsp;now,
            <a href="../../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a>&nbsp;htd)</code>
<div class="block">Only used in tests.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#append(org.apache.hadoop.hbase.HRegionInfo,%20byte[],%20org.apache.hadoop.hbase.regionserver.wal.WALEdit,%20java.util.UUID,%20long,%20org.apache.hadoop.hbase.HTableDescriptor)">append</a></strong>(<a href="../../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;info,
            byte[]&nbsp;tableName,
            <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/WALEdit.html" title="class in org.apache.hadoop.hbase.regionserver.wal">WALEdit</a>&nbsp;edits,
            <a href="http://docs.oracle.com/javase/6/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;clusterId,
            long&nbsp;now,
            <a href="../../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a>&nbsp;htd)</code>
<div class="block">Append a set of edits to the log.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#append(org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.regionserver.wal.HLogKey,%20org.apache.hadoop.hbase.regionserver.wal.WALEdit,%20org.apache.hadoop.hbase.HTableDescriptor,%20boolean)">append</a></strong>(<a href="../../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;regionInfo,
            <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLogKey.html" title="class in org.apache.hadoop.hbase.regionserver.wal">HLogKey</a>&nbsp;logKey,
            <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/WALEdit.html" title="class in org.apache.hadoop.hbase.regionserver.wal">WALEdit</a>&nbsp;logEdit,
            <a href="../../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a>&nbsp;htd,
            boolean&nbsp;doSync)</code>
<div class="block">Append an entry to the log.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#appendNoSync(org.apache.hadoop.hbase.HRegionInfo,%20byte[],%20org.apache.hadoop.hbase.regionserver.wal.WALEdit,%20java.util.UUID,%20long,%20org.apache.hadoop.hbase.HTableDescriptor)">appendNoSync</a></strong>(<a href="../../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;info,
                        byte[]&nbsp;tableName,
                        <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/WALEdit.html" title="class in org.apache.hadoop.hbase.regionserver.wal">WALEdit</a>&nbsp;edits,
                        <a href="http://docs.oracle.com/javase/6/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;clusterId,
                        long&nbsp;now,
                        <a href="../../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a>&nbsp;htd)</code>
<div class="block">Append a set of edits to the log.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#close()">close</a></strong>()</code>
<div class="block">Shut down the log.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#closeAndDelete()">closeAndDelete</a></strong>()</code>
<div class="block">Shut down the log and delete the log directory</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#completeCacheFlush(byte[],%20byte[],%20long,%20boolean)">completeCacheFlush</a></strong>(byte[]&nbsp;encodedRegionName,
                                    byte[]&nbsp;tableName,
                                    long&nbsp;logSeqId,
                                    boolean&nbsp;isMetaRegion)</code>
<div class="block">Complete the cache flush

 Protected by cacheFlushLock</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#computeFilename()">computeFilename</a></strong>()</code>
<div class="block">This is a convenience method that computes a new filename with a given
 using the current HLog file-number</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#computeFilename(long)">computeFilename</a></strong>(long&nbsp;filenum)</code>
<div class="block">This is a convenience method that computes a new filename with a given
 file-number.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.Writer.html" title="interface in org.apache.hadoop.hbase.regionserver.wal">HLog.Writer</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#createWriter(org.apache.hadoop.fs.FileSystem,%20org.apache.hadoop.fs.Path,%20org.apache.hadoop.conf.Configuration)">createWriter</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                        org.apache.hadoop.fs.Path&nbsp;path,
                        org.apache.hadoop.conf.Configuration&nbsp;conf)</code>
<div class="block">Get a writer for the WAL.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.Writer.html" title="interface in org.apache.hadoop.hbase.regionserver.wal">HLog.Writer</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#createWriterInstance(org.apache.hadoop.fs.FileSystem,%20org.apache.hadoop.fs.Path,%20org.apache.hadoop.conf.Configuration)">createWriterInstance</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                        org.apache.hadoop.fs.Path&nbsp;path,
                                        org.apache.hadoop.conf.Configuration&nbsp;conf)</code>
<div class="block">This method allows subclasses to inject different writers without having to
 extend other methods like rollWriter().</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#doWrite(org.apache.hadoop.hbase.HRegionInfo,%20org.apache.hadoop.hbase.regionserver.wal.HLogKey,%20org.apache.hadoop.hbase.regionserver.wal.WALEdit,%20org.apache.hadoop.hbase.HTableDescriptor)">doWrite</a></strong>(<a href="../../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;info,
              <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLogKey.html" title="class in org.apache.hadoop.hbase.regionserver.wal">HLogKey</a>&nbsp;logKey,
              <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/WALEdit.html" title="class in org.apache.hadoop.hbase.regionserver.wal">WALEdit</a>&nbsp;logEdit,
              <a href="../../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a>&nbsp;htd)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/WALCoprocessorHost.html" title="class in org.apache.hadoop.hbase.regionserver.wal">WALCoprocessorHost</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#getCoprocessorHost()">getCoprocessorHost</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#getDir()">getDir</a></strong>()</code>
<div class="block">Get the directory we are making logs in.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#getFilenum()">getFilenum</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#getHLogDirectoryName(java.lang.String)">getHLogDirectoryName</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;serverName)</code>
<div class="block">Construct the HLog directory name</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;? extends <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLogKey.html" title="class in org.apache.hadoop.hbase.regionserver.wal">HLogKey</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#getKeyClass(org.apache.hadoop.conf.Configuration)">getKeyClass</a></strong>(org.apache.hadoop.conf.Configuration&nbsp;conf)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#getNumLogFiles()">getNumLogFiles</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#getNumLogFileSize()">getNumLogFileSize</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.Reader.html" title="interface in org.apache.hadoop.hbase.regionserver.wal">HLog.Reader</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#getReader(org.apache.hadoop.fs.FileSystem,%20org.apache.hadoop.fs.Path,%20org.apache.hadoop.conf.Configuration)">getReader</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                  org.apache.hadoop.fs.Path&nbsp;path,
                  org.apache.hadoop.conf.Configuration&nbsp;conf)</code>
<div class="block">Get a reader for the WAL.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#getRegionDirRecoveredEditsDir(org.apache.hadoop.fs.Path)">getRegionDirRecoveredEditsDir</a></strong>(org.apache.hadoop.fs.Path&nbsp;regiondir)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#getSequenceNumber()">getSequenceNumber</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#getSlowAppendCount()">getSlowAppendCount</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.Metric.html" title="class in org.apache.hadoop.hbase.regionserver.wal">HLog.Metric</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#getSlowAppendTime()">getSlowAppendTime</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/util/NavigableSet.html?is-external=true" title="class or interface in java.util">NavigableSet</a>&lt;org.apache.hadoop.fs.Path&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#getSplitEditFilesSorted(org.apache.hadoop.fs.FileSystem,%20org.apache.hadoop.fs.Path)">getSplitEditFilesSorted</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                              org.apache.hadoop.fs.Path&nbsp;regiondir)</code>
<div class="block">Returns sorted set of edit files made by wal-log splitter, excluding files
 with '.temp' suffix.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.Metric.html" title="class in org.apache.hadoop.hbase.regionserver.wal">HLog.Metric</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#getSyncTime()">getSyncTime</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.Metric.html" title="class in org.apache.hadoop.hbase.regionserver.wal">HLog.Metric</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#getWriteSize()">getWriteSize</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.Metric.html" title="class in org.apache.hadoop.hbase.regionserver.wal">HLog.Metric</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#getWriteTime()">getWriteTime</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#hflush()">hflush</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#hsync()">hsync</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#isLowReplicationRollEnabled()">isLowReplicationRollEnabled</a></strong>()</code>
<div class="block">Get LowReplication-Roller status</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#isMetaFamily(byte[])">isMetaFamily</a></strong>(byte[]&nbsp;family)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#isMetaFile(org.apache.hadoop.fs.Path)">isMetaFile</a></strong>(org.apache.hadoop.fs.Path&nbsp;p)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#main(java.lang.String[])">main</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;args)</code>
<div class="block">Pass one or more log file names and it will either dump out a text version
 on <code>stdout</code> or split the specified log files.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLogKey.html" title="class in org.apache.hadoop.hbase.regionserver.wal">HLogKey</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#makeKey(byte[],%20byte[],%20long,%20long,%20java.util.UUID)">makeKey</a></strong>(byte[]&nbsp;regionName,
              byte[]&nbsp;tableName,
              long&nbsp;seqnum,
              long&nbsp;now,
              <a href="http://docs.oracle.com/javase/6/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;clusterId)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#moveAsideBadEditsFile(org.apache.hadoop.fs.FileSystem,%20org.apache.hadoop.fs.Path)">moveAsideBadEditsFile</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                          org.apache.hadoop.fs.Path&nbsp;edits)</code>
<div class="block">Move aside a bad edits file.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLogKey.html" title="class in org.apache.hadoop.hbase.regionserver.wal">HLogKey</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#newKey(org.apache.hadoop.conf.Configuration)">newKey</a></strong>(org.apache.hadoop.conf.Configuration&nbsp;conf)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#obtainSeqNum()">obtainSeqNum</a></strong>()</code>
<div class="block">Obtain a log sequence number.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#registerWALActionsListener(org.apache.hadoop.hbase.regionserver.wal.WALActionsListener)">registerWALActionsListener</a></strong>(<a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/WALActionsListener.html" title="interface in org.apache.hadoop.hbase.regionserver.wal">WALActionsListener</a>&nbsp;listener)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[][]</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#rollWriter()">rollWriter</a></strong>()</code>
<div class="block">Roll the log writer.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>byte[][]</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#rollWriter(boolean)">rollWriter</a></strong>(boolean&nbsp;force)</code>
<div class="block">Roll the log writer.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#setSequenceNumber(long)">setSequenceNumber</a></strong>(long&nbsp;newvalue)</code>
<div class="block">Called by HRegionServer when it opens a new region to ensure that log
 sequence numbers are always greater than the latest sequence number of the
 region being brought on-line.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#startCacheFlush(byte[])">startCacheFlush</a></strong>(byte[]&nbsp;encodedRegionName)</code>
<div class="block">By acquiring a log sequence ID, we can allow log messages to continue while
 we flush the cache.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#sync()">sync</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#sync(long)">sync</a></strong>(long&nbsp;txid)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#unregisterWALActionsListener(org.apache.hadoop.hbase.regionserver.wal.WALActionsListener)">unregisterWALActionsListener</a></strong>(<a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/WALActionsListener.html" title="interface in org.apache.hadoop.hbase.regionserver.wal">WALActionsListener</a>&nbsp;listener)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#validateHLogFilename(java.lang.String)">validateHLogFilename</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;filename)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="METAFAMILY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>METAFAMILY</h4>
<pre>public static final&nbsp;byte[] <a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.117">METAFAMILY</a></pre>
</li>
</ul>
<a name="SPLITTING_EXT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SPLITTING_EXT</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> <a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.121">SPLITTING_EXT</a></pre>
<div class="block">File Extension used while splitting an HLog into regions (HBASE-2312)</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../constant-values.html#org.apache.hadoop.hbase.regionserver.wal.HLog.SPLITTING_EXT">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="SPLIT_SKIP_ERRORS_DEFAULT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SPLIT_SKIP_ERRORS_DEFAULT</h4>
<pre>public static final&nbsp;boolean <a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.122">SPLIT_SKIP_ERRORS_DEFAULT</a></pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../constant-values.html#org.apache.hadoop.hbase.regionserver.wal.HLog.SPLIT_SKIP_ERRORS_DEFAULT">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="META_HLOG_FILE_EXTN">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>META_HLOG_FILE_EXTN</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> <a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.124">META_HLOG_FILE_EXTN</a></pre>
<div class="block">The META region's HLog filename extension</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../constant-values.html#org.apache.hadoop.hbase.regionserver.wal.HLog.META_HLOG_FILE_EXTN">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="SEPARATE_HLOG_FOR_META">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SEPARATE_HLOG_FOR_META</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> <a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.125">SEPARATE_HLOG_FOR_META</a></pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../constant-values.html#org.apache.hadoop.hbase.regionserver.wal.HLog.SEPARATE_HLOG_FOR_META">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="RECOVERED_EDITS_DIR">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RECOVERED_EDITS_DIR</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> <a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.131">RECOVERED_EDITS_DIR</a></pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../constant-values.html#org.apache.hadoop.hbase.regionserver.wal.HLog.RECOVERED_EDITS_DIR">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="RECOVERED_LOG_TMPFILE_SUFFIX">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RECOVERED_LOG_TMPFILE_SUFFIX</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> <a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.134">RECOVERED_LOG_TMPFILE_SUFFIX</a></pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../constant-values.html#org.apache.hadoop.hbase.regionserver.wal.HLog.RECOVERED_LOG_TMPFILE_SUFFIX">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="FIXED_OVERHEAD">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>FIXED_OVERHEAD</h4>
<pre>public static final&nbsp;long <a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.1894">FIXED_OVERHEAD</a></pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="HLog(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.fs.Path, org.apache.hadoop.conf.Configuration)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>HLog</h4>
<pre>public&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.348">HLog</a>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
    org.apache.hadoop.fs.Path&nbsp;dir,
    org.apache.hadoop.fs.Path&nbsp;oldLogDir,
    org.apache.hadoop.conf.Configuration&nbsp;conf)
     throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Constructor.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - filesystem handle</dd><dd><code>dir</code> - path to where hlogs are stored</dd><dd><code>oldLogDir</code> - path to where hlogs are archived</dd><dd><code>conf</code> - configuration to use</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="HLog(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.fs.Path, org.apache.hadoop.conf.Configuration, java.util.List, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>HLog</h4>
<pre>public&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.373">HLog</a>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
    org.apache.hadoop.fs.Path&nbsp;dir,
    org.apache.hadoop.fs.Path&nbsp;oldLogDir,
    org.apache.hadoop.conf.Configuration&nbsp;conf,
    <a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/WALActionsListener.html" title="interface in org.apache.hadoop.hbase.regionserver.wal">WALActionsListener</a>&gt;&nbsp;listeners,
    <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;prefix)
     throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Create an edit log at the given <code>dir</code> location.

 You should never have to load an existing log. If there is a log at
 startup, it should have already been processed and deleted by the time the
 HLog object is started up.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - filesystem handle</dd><dd><code>dir</code> - path to where hlogs are stored</dd><dd><code>oldLogDir</code> - path to where hlogs are archived</dd><dd><code>conf</code> - configuration to use</dd><dd><code>listeners</code> - Listeners on WAL events. Listeners passed here will
 be registered before we do anything else; e.g. the
 Constructor <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#rollWriter()"><code>rollWriter()</code></a>.</dd><dd><code>prefix</code> - should always be hostname and port in distributed env and
        it will be URL encoded before being used.
        If prefix is null, "hlog" will be used</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="HLog(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.fs.Path, org.apache.hadoop.conf.Configuration, java.util.List, boolean, java.lang.String, boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>HLog</h4>
<pre>public&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.400">HLog</a>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
    org.apache.hadoop.fs.Path&nbsp;dir,
    org.apache.hadoop.fs.Path&nbsp;oldLogDir,
    org.apache.hadoop.conf.Configuration&nbsp;conf,
    <a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/WALActionsListener.html" title="interface in org.apache.hadoop.hbase.regionserver.wal">WALActionsListener</a>&gt;&nbsp;listeners,
    boolean&nbsp;failIfLogDirExists,
    <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;prefix,
    boolean&nbsp;forMeta)
     throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Create an edit log at the given <code>dir</code> location.

 You should never have to load an existing log. If there is a log at
 startup, it should have already been processed and deleted by the time the
 HLog object is started up.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - filesystem handle</dd><dd><code>dir</code> - path to where hlogs are stored</dd><dd><code>oldLogDir</code> - path to where hlogs are archived</dd><dd><code>conf</code> - configuration to use</dd><dd><code>listeners</code> - Listeners on WAL events. Listeners passed here will
 be registered before we do anything else; e.g. the
 Constructor <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#rollWriter()"><code>rollWriter()</code></a>.</dd><dd><code>failIfLogDirExists</code> - If true IOException will be thrown if dir already exists.</dd><dd><code>prefix</code> - should always be hostname and port in distributed env and
        it will be URL encoded before being used.
        If prefix is null, "hlog" will be used</dd><dd><code>forMeta</code> - if this hlog is meant for meta updates</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getWriteTime()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWriteTime</h4>
<pre>public static&nbsp;<a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.Metric.html" title="class in org.apache.hadoop.hbase.regionserver.wal">HLog.Metric</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.319">getWriteTime</a>()</pre>
</li>
</ul>
<a name="getWriteSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWriteSize</h4>
<pre>public static&nbsp;<a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.Metric.html" title="class in org.apache.hadoop.hbase.regionserver.wal">HLog.Metric</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.323">getWriteSize</a>()</pre>
</li>
</ul>
<a name="getSyncTime()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSyncTime</h4>
<pre>public static&nbsp;<a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.Metric.html" title="class in org.apache.hadoop.hbase.regionserver.wal">HLog.Metric</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.327">getSyncTime</a>()</pre>
</li>
</ul>
<a name="getSlowAppendCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSlowAppendCount</h4>
<pre>public static&nbsp;long&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.331">getSlowAppendCount</a>()</pre>
</li>
</ul>
<a name="getSlowAppendTime()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSlowAppendTime</h4>
<pre>public static&nbsp;<a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.Metric.html" title="class in org.apache.hadoop.hbase.regionserver.wal">HLog.Metric</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.335">getSlowAppendTime</a>()</pre>
</li>
</ul>
<a name="registerWALActionsListener(org.apache.hadoop.hbase.regionserver.wal.WALActionsListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerWALActionsListener</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.500">registerWALActionsListener</a>(<a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/WALActionsListener.html" title="interface in org.apache.hadoop.hbase.regionserver.wal">WALActionsListener</a>&nbsp;listener)</pre>
</li>
</ul>
<a name="unregisterWALActionsListener(org.apache.hadoop.hbase.regionserver.wal.WALActionsListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unregisterWALActionsListener</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.504">unregisterWALActionsListener</a>(<a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/WALActionsListener.html" title="interface in org.apache.hadoop.hbase.regionserver.wal">WALActionsListener</a>&nbsp;listener)</pre>
</li>
</ul>
<a name="getFilenum()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFilenum</h4>
<pre>public&nbsp;long&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.511">getFilenum</a>()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>Current state of the monotonically increasing file id.</dd></dl>
</li>
</ul>
<a name="setSequenceNumber(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSequenceNumber</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.523">setSequenceNumber</a>(long&nbsp;newvalue)</pre>
<div class="block">Called by HRegionServer when it opens a new region to ensure that log
 sequence numbers are always greater than the latest sequence number of the
 region being brought on-line.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>newvalue</code> - We'll set log edit/sequence number to this value if it
 is greater than the current value.</dd></dl>
</li>
</ul>
<a name="getSequenceNumber()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSequenceNumber</h4>
<pre>public&nbsp;long&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.535">getSequenceNumber</a>()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>log sequence number</dd></dl>
</li>
</ul>
<a name="rollWriter()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rollWriter</h4>
<pre>public&nbsp;byte[][]&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.570">rollWriter</a>()
                    throws <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/FailedLogCloseException.html" title="class in org.apache.hadoop.hbase.regionserver.wal">FailedLogCloseException</a>,
                           <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Roll the log writer. That is, start writing log messages to a new file.

 Because a log cannot be rolled during a cache flush, and a cache flush
 spans two method calls, a special lock needs to be obtained so that a cache
 flush cannot start when the log is being rolled and the log cannot be
 rolled during a cache flush.

 <p>Note that this method cannot be synchronized because it is possible that
 startCacheFlush runs, obtaining the cacheFlushLock, then this method could
 start which would obtain the lock on this but block on obtaining the
 cacheFlushLock and then completeCacheFlush could be called which would wait
 for the lock on this and consequently never release the cacheFlushLock</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>If lots of logs, flush the returned regions so next time through
 we can clean logs. Returns null if nothing to flush.  Names are actual
 region names as returned by <a href="../../../../../../org/apache/hadoop/hbase/HRegionInfo.html#getEncodedName()"><code>HRegionInfo.getEncodedName()</code></a></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/FailedLogCloseException.html" title="class in org.apache.hadoop.hbase.regionserver.wal">FailedLogCloseException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="rollWriter(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rollWriter</h4>
<pre>public&nbsp;byte[][]&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.596">rollWriter</a>(boolean&nbsp;force)
                    throws <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/FailedLogCloseException.html" title="class in org.apache.hadoop.hbase.regionserver.wal">FailedLogCloseException</a>,
                           <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Roll the log writer. That is, start writing log messages to a new file.

 Because a log cannot be rolled during a cache flush, and a cache flush
 spans two method calls, a special lock needs to be obtained so that a cache
 flush cannot start when the log is being rolled and the log cannot be
 rolled during a cache flush.

 <p>Note that this method cannot be synchronized because it is possible that
 startCacheFlush runs, obtaining the cacheFlushLock, then this method could
 start which would obtain the lock on this but block on obtaining the
 cacheFlushLock and then completeCacheFlush could be called which would wait
 for the lock on this and consequently never release the cacheFlushLock</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>force</code> - If true, force creation of a new writer even if no entries
 have been written to the current writer</dd>
<dt><span class="strong">Returns:</span></dt><dd>If lots of logs, flush the returned regions so next time through
 we can clean logs. Returns null if nothing to flush.  Names are actual
 region names as returned by <a href="../../../../../../org/apache/hadoop/hbase/HRegionInfo.html#getEncodedName()"><code>HRegionInfo.getEncodedName()</code></a></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/FailedLogCloseException.html" title="class in org.apache.hadoop.hbase.regionserver.wal">FailedLogCloseException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="createWriterInstance(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.conf.Configuration)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createWriterInstance</h4>
<pre>protected&nbsp;<a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.Writer.html" title="interface in org.apache.hadoop.hbase.regionserver.wal">HLog.Writer</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.702">createWriterInstance</a>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                               org.apache.hadoop.fs.Path&nbsp;path,
                               org.apache.hadoop.conf.Configuration&nbsp;conf)
                                    throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">This method allows subclasses to inject different writers without having to
 extend other methods like rollWriter().</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - </dd><dd><code>path</code> - </dd><dd><code>conf</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>Writer instance</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getReader(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.conf.Configuration)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReader</h4>
<pre>public static&nbsp;<a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.Reader.html" title="interface in org.apache.hadoop.hbase.regionserver.wal">HLog.Reader</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.721">getReader</a>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                    org.apache.hadoop.fs.Path&nbsp;path,
                    org.apache.hadoop.conf.Configuration&nbsp;conf)
                             throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Get a reader for the WAL.
 The proper way to tail a log that can be under construction is to first use this method
 to get a reader then call <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.Reader.html#reset()"><code>HLog.Reader.reset()</code></a> to see the new data. It will also
 take care of keeping implementation-specific context (like compression).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - </dd><dd><code>path</code> - </dd><dd><code>conf</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>A WAL reader.  Close when done with it.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="createWriter(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.conf.Configuration)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createWriter</h4>
<pre>public static&nbsp;<a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.Writer.html" title="interface in org.apache.hadoop.hbase.regionserver.wal">HLog.Writer</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.751">createWriter</a>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                       org.apache.hadoop.fs.Path&nbsp;path,
                       org.apache.hadoop.conf.Configuration&nbsp;conf)
                                throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Get a writer for the WAL.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>path</code> - </dd><dd><code>conf</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>A WAL writer.  Close when done with it.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="computeFilename()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeFilename</h4>
<pre>protected&nbsp;org.apache.hadoop.fs.Path&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.942">computeFilename</a>()</pre>
<div class="block">This is a convenience method that computes a new filename with a given
 using the current HLog file-number</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Path</dd></dl>
</li>
</ul>
<a name="computeFilename(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeFilename</h4>
<pre>protected&nbsp;org.apache.hadoop.fs.Path&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.952">computeFilename</a>(long&nbsp;filenum)</pre>
<div class="block">This is a convenience method that computes a new filename with a given
 file-number.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>filenum</code> - to use</dd>
<dt><span class="strong">Returns:</span></dt><dd>Path</dd></dl>
</li>
</ul>
<a name="isMetaFile(org.apache.hadoop.fs.Path)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isMetaFile</h4>
<pre>public static&nbsp;boolean&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.963">isMetaFile</a>(org.apache.hadoop.fs.Path&nbsp;p)</pre>
</li>
</ul>
<a name="closeAndDelete()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeAndDelete</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.975">closeAndDelete</a>()
                    throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Shut down the log and delete the log directory</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.1010">close</a>()
           throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Shut down the log.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="makeKey(byte[], byte[], long, long, java.util.UUID)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>makeKey</h4>
<pre>protected&nbsp;<a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLogKey.html" title="class in org.apache.hadoop.hbase.regionserver.wal">HLogKey</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.1051">makeKey</a>(byte[]&nbsp;regionName,
              byte[]&nbsp;tableName,
              long&nbsp;seqnum,
              long&nbsp;now,
              <a href="http://docs.oracle.com/javase/6/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;clusterId)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>now</code> - </dd><dd><code>regionName</code> - </dd><dd><code>tableName</code> - </dd><dd><code>clusterId</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>New log key.</dd></dl>
</li>
</ul>
<a name="append(org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.regionserver.wal.HLogKey, org.apache.hadoop.hbase.regionserver.wal.WALEdit, org.apache.hadoop.hbase.HTableDescriptor, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>append</h4>
<pre>public&nbsp;long&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.1066">append</a>(<a href="../../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;regionInfo,
          <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLogKey.html" title="class in org.apache.hadoop.hbase.regionserver.wal">HLogKey</a>&nbsp;logKey,
          <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/WALEdit.html" title="class in org.apache.hadoop.hbase.regionserver.wal">WALEdit</a>&nbsp;logEdit,
          <a href="../../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a>&nbsp;htd,
          boolean&nbsp;doSync)
            throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Append an entry to the log.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>regionInfo</code> - </dd><dd><code>logEdit</code> - </dd><dd><code>logKey</code> - </dd><dd><code>doSync</code> - shall we sync after writing the transaction</dd>
<dt><span class="strong">Returns:</span></dt><dd>The txid of this transaction</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="append(org.apache.hadoop.hbase.HRegionInfo, byte[], org.apache.hadoop.hbase.regionserver.wal.WALEdit, long, org.apache.hadoop.hbase.HTableDescriptor)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>append</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.1112">append</a>(<a href="../../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;info,
          byte[]&nbsp;tableName,
          <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/WALEdit.html" title="class in org.apache.hadoop.hbase.regionserver.wal">WALEdit</a>&nbsp;edits,
          long&nbsp;now,
          <a href="../../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a>&nbsp;htd)
            throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Only used in tests.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>info</code> - </dd><dd><code>tableName</code> - </dd><dd><code>edits</code> - </dd><dd><code>now</code> - </dd><dd><code>htd</code> - </dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="appendNoSync(org.apache.hadoop.hbase.HRegionInfo, byte[], org.apache.hadoop.hbase.regionserver.wal.WALEdit, java.util.UUID, long, org.apache.hadoop.hbase.HTableDescriptor)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>appendNoSync</h4>
<pre>public&nbsp;long&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.1195">appendNoSync</a>(<a href="../../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;info,
                byte[]&nbsp;tableName,
                <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/WALEdit.html" title="class in org.apache.hadoop.hbase.regionserver.wal">WALEdit</a>&nbsp;edits,
                <a href="http://docs.oracle.com/javase/6/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;clusterId,
                long&nbsp;now,
                <a href="../../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a>&nbsp;htd)
                  throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Append a set of edits to the log. Log edits are keyed by (encoded)
 regionName, rowname, and log-sequence-id. The HLog is not flushed
 after this transaction is written to the log.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>info</code> - </dd><dd><code>tableName</code> - </dd><dd><code>edits</code> - </dd><dd><code>clusterId</code> - The originating clusterId for this edit (for replication)</dd><dd><code>now</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>txid of this transaction</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="append(org.apache.hadoop.hbase.HRegionInfo, byte[], org.apache.hadoop.hbase.regionserver.wal.WALEdit, java.util.UUID, long, org.apache.hadoop.hbase.HTableDescriptor)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>append</h4>
<pre>public&nbsp;long&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.1214">append</a>(<a href="../../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;info,
          byte[]&nbsp;tableName,
          <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/WALEdit.html" title="class in org.apache.hadoop.hbase.regionserver.wal">WALEdit</a>&nbsp;edits,
          <a href="http://docs.oracle.com/javase/6/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;clusterId,
          long&nbsp;now,
          <a href="../../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a>&nbsp;htd)
            throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Append a set of edits to the log. Log edits are keyed by (encoded)
 regionName, rowname, and log-sequence-id. The HLog is flushed
 after this transaction is written to the log.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>info</code> - </dd><dd><code>tableName</code> - </dd><dd><code>edits</code> - </dd><dd><code>clusterId</code> - The originating clusterId for this edit (for replication)</dd><dd><code>now</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>txid of this transaction</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="hsync()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hsync</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.1463">hsync</a>()
           throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="hflush()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hflush</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.1467">hflush</a>()
            throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="sync()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sync</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.1471">sync</a>()
          throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>sync</code>&nbsp;in interface&nbsp;<code>org.apache.hadoop.fs.Syncable</code></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="sync(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sync</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.1475">sync</a>(long&nbsp;txid)
          throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="doWrite(org.apache.hadoop.hbase.HRegionInfo, org.apache.hadoop.hbase.regionserver.wal.HLogKey, org.apache.hadoop.hbase.regionserver.wal.WALEdit, org.apache.hadoop.hbase.HTableDescriptor)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doWrite</h4>
<pre>protected&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.1487">doWrite</a>(<a href="../../../../../../org/apache/hadoop/hbase/HRegionInfo.html" title="class in org.apache.hadoop.hbase">HRegionInfo</a>&nbsp;info,
           <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLogKey.html" title="class in org.apache.hadoop.hbase.regionserver.wal">HLogKey</a>&nbsp;logKey,
           <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/WALEdit.html" title="class in org.apache.hadoop.hbase.regionserver.wal">WALEdit</a>&nbsp;logEdit,
           <a href="../../../../../../org/apache/hadoop/hbase/HTableDescriptor.html" title="class in org.apache.hadoop.hbase">HTableDescriptor</a>&nbsp;htd)
                throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="obtainSeqNum()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>obtainSeqNum</h4>
<pre>public&nbsp;long&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.1537">obtainSeqNum</a>()</pre>
<div class="block">Obtain a log sequence number.</div>
</li>
</ul>
<a name="getNumLogFiles()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNumLogFiles</h4>
<pre>public&nbsp;int&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.1542">getNumLogFiles</a>()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>the number of log files in use, including current one</dd></dl>
</li>
</ul>
<a name="getNumLogFileSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNumLogFileSize</h4>
<pre>public&nbsp;long&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.1547">getNumLogFileSize</a>()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>the total size of log files in use, including current one</dd></dl>
</li>
</ul>
<a name="startCacheFlush(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startCacheFlush</h4>
<pre>public&nbsp;long&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.1590">startCacheFlush</a>(byte[]&nbsp;encodedRegionName)</pre>
<div class="block">By acquiring a log sequence ID, we can allow log messages to continue while
 we flush the cache.

 Acquire a lock so that we do not roll the log between the start and
 completion of a cache-flush. Otherwise the log-seq-id for the flush will
 not appear in the correct logfile.

 Ensuring that flushes and log-rolls don't happen concurrently also allows
 us to temporarily put a log-seq-number in lastSeqWritten against the region
 being flushed that might not be the earliest in-memory log-seq-number for
 that region. By the time the flush is completed or aborted and before the
 cacheFlushLock is released it is ensured that lastSeqWritten again has the
 oldest in-memory edit's lsn for the region that was being flushed.

 In this method, by removing the entry in lastSeqWritten for the region
 being flushed we ensure that the next edit inserted in this region will be
 correctly recorded in <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#append(org.apache.hadoop.hbase.HRegionInfo,%20byte[],%20org.apache.hadoop.hbase.regionserver.wal.WALEdit,%20long,%20org.apache.hadoop.hbase.HTableDescriptor)"><code>append(HRegionInfo, byte[], WALEdit, long, HTableDescriptor)</code></a> The
 lsn of the earliest in-memory lsn - which is now in the memstore snapshot -
 is saved temporarily in the lastSeqWritten map while the flush is active.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>sequence ID to pass
         <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#completeCacheFlush(byte[],%20byte[],%20long,%20boolean)"><code>completeCacheFlush(byte[], byte[], long, boolean)</code></a> (byte[],
         byte[], long)}</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#completeCacheFlush(byte[],%20byte[],%20long,%20boolean)"><code>completeCacheFlush(byte[], byte[], long, boolean)</code></a>, 
<a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.html#abortCacheFlush(byte[])"><code>abortCacheFlush(byte[])</code></a></dd></dl>
</li>
</ul>
<a name="completeCacheFlush(byte[], byte[], long, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>completeCacheFlush</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.1624">completeCacheFlush</a>(byte[]&nbsp;encodedRegionName,
                      byte[]&nbsp;tableName,
                      long&nbsp;logSeqId,
                      boolean&nbsp;isMetaRegion)
                        throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Complete the cache flush

 Protected by cacheFlushLock</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>encodedRegionName</code> - </dd><dd><code>tableName</code> - </dd><dd><code>logSeqId</code> - </dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="abortCacheFlush(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>abortCacheFlush</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.1673">abortCacheFlush</a>(byte[]&nbsp;encodedRegionName)</pre>
<div class="block">Abort a cache flush.
 Call if the flush fails. Note that the only recovery for an aborted flush
 currently is a restart of the regionserver so the snapshot content dropped
 by the failure gets restored to the memstore.</div>
</li>
</ul>
<a name="isMetaFamily(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isMetaFamily</h4>
<pre>public static&nbsp;boolean&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.1699">isMetaFamily</a>(byte[]&nbsp;family)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>family</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>true if the column is a meta column</dd></dl>
</li>
</ul>
<a name="isLowReplicationRollEnabled()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isLowReplicationRollEnabled</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.1708">isLowReplicationRollEnabled</a>()</pre>
<div class="block">Get LowReplication-Roller status</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>lowReplicationRollEnabled</dd></dl>
</li>
</ul>
<a name="getKeyClass(org.apache.hadoop.conf.Configuration)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKeyClass</h4>
<pre>public static&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;? extends <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLogKey.html" title="class in org.apache.hadoop.hbase.regionserver.wal">HLogKey</a>&gt;&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.1713">getKeyClass</a>(org.apache.hadoop.conf.Configuration&nbsp;conf)</pre>
</li>
</ul>
<a name="newKey(org.apache.hadoop.conf.Configuration)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newKey</h4>
<pre>public static&nbsp;<a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLogKey.html" title="class in org.apache.hadoop.hbase.regionserver.wal">HLogKey</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.1718">newKey</a>(org.apache.hadoop.conf.Configuration&nbsp;conf)
                      throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getHLogDirectoryName(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHLogDirectoryName</h4>
<pre>public static&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.1791">getHLogDirectoryName</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;serverName)</pre>
<div class="block">Construct the HLog directory name</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>serverName</code> - Server name formatted as described in <a href="../../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase"><code>ServerName</code></a></dd>
<dt><span class="strong">Returns:</span></dt><dd>the HLog directory name</dd></dl>
</li>
</ul>
<a name="getDir()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDir</h4>
<pre>protected&nbsp;org.apache.hadoop.fs.Path&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.1803">getDir</a>()</pre>
<div class="block">Get the directory we are making logs in.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>dir</dd></dl>
</li>
</ul>
<a name="validateHLogFilename(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validateHLogFilename</h4>
<pre>public static&nbsp;boolean&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.1812">validateHLogFilename</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;filename)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>filename</code> - name of the file to validate</dd>
<dt><span class="strong">Returns:</span></dt><dd><tt>true</tt> if the filename matches an HLog, <tt>false</tt>
         otherwise</dd></dl>
</li>
</ul>
<a name="getSplitEditFilesSorted(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSplitEditFilesSorted</h4>
<pre>public static&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/NavigableSet.html?is-external=true" title="class or interface in java.util">NavigableSet</a>&lt;org.apache.hadoop.fs.Path&gt;&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.1832">getSplitEditFilesSorted</a>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                                              org.apache.hadoop.fs.Path&nbsp;regiondir)
                                                                       throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Returns sorted set of edit files made by wal-log splitter, excluding files
 with '.temp' suffix.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - </dd><dd><code>regiondir</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>Files in passed <code>regiondir</code> as a sorted set.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="moveAsideBadEditsFile(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>moveAsideBadEditsFile</h4>
<pre>public static&nbsp;org.apache.hadoop.fs.Path&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.1874">moveAsideBadEditsFile</a>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                                              org.apache.hadoop.fs.Path&nbsp;edits)
                                                       throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Move aside a bad edits file.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - </dd><dd><code>edits</code> - Edits file to move aside.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The name of the moved aside file.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getRegionDirRecoveredEditsDir(org.apache.hadoop.fs.Path)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRegionDirRecoveredEditsDir</h4>
<pre>public static&nbsp;org.apache.hadoop.fs.Path&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.1890">getRegionDirRecoveredEditsDir</a>(org.apache.hadoop.fs.Path&nbsp;regiondir)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>regiondir</code> - This regions directory in the filesystem.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The directory that holds recovered edits files for the region
 <code>regiondir</code></dd></dl>
</li>
</ul>
<a name="getCoprocessorHost()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCoprocessorHost</h4>
<pre>public&nbsp;<a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/WALCoprocessorHost.html" title="class in org.apache.hadoop.hbase.regionserver.wal">WALCoprocessorHost</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.1927">getCoprocessorHost</a>()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>Coprocessor host.</dd></dl>
</li>
</ul>
<a name="main(java.lang.String[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLog.html#line.1943">main</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;args)
                 throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Pass one or more log file names and it will either dump out a text version
 on <code>stdout</code> or split the specified log files.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>args</code> - </dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/HLog.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/FailedLogCloseException.html" title="class in org.apache.hadoop.hbase.regionserver.wal"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.Entry.html" title="class in org.apache.hadoop.hbase.regionserver.wal"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/hadoop/hbase/regionserver/wal/HLog.html" target="_top">Frames</a></li>
<li><a href="HLog.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2015 <a href="http://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</body>
</html>
