<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>ReplicationZookeeper (HBase 0.94.27 API)</title>
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ReplicationZookeeper (HBase 0.94.27 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ReplicationZookeeper.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationPeer.PeerStateTracker.html" title="class in org.apache.hadoop.hbase.replication"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.PeerState.html" title="enum in org.apache.hadoop.hbase.replication"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/hadoop/hbase/replication/ReplicationZookeeper.html" target="_top">Frames</a></li>
<li><a href="ReplicationZookeeper.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.hadoop.hbase.replication</div>
<h2 title="Class ReplicationZookeeper" class="title">Class ReplicationZookeeper</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.hadoop.hbase.replication.ReplicationZookeeper</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#line.84">ReplicationZookeeper</a>
extends <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">This class serves as a helper for all things related to zookeeper in
 replication.
 <p/>
 The layout looks something like this under zookeeper.znode.parent for the
 master cluster:
 <p/>

 <pre>
 replication/
  state      {contains true or false}
  clusterId  {contains a byte}
  peers/
    1/   {contains a full cluster address}
      peer-state  {contains ENABLED or DISABLED}
    2/
    ...
  rs/ {lists all RS that replicate}
    startcode1/ {lists all peer clusters}
      1/ {lists hlogs to process}
        10.10.1.76%3A53488.123456789 {contains nothing or a position}
        10.10.1.76%3A53488.123456790
        ...
      2/
      ...
    startcode2/
    ...
 </pre></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.PeerState.html" title="enum in org.apache.hadoop.hbase.replication">ReplicationZookeeper.PeerState</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.ReplicationStatusTracker.html" title="class in org.apache.hadoop.hbase.replication">ReplicationZookeeper.ReplicationStatusTracker</a></strong></code>
<div class="block">Tracker for status of the replication</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#ReplicationZookeeper(org.apache.hadoop.hbase.Abortable,%20org.apache.hadoop.conf.Configuration,%20org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher)">ReplicationZookeeper</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/Abortable.html" title="interface in org.apache.hadoop.hbase">Abortable</a>&nbsp;abortable,
                                        org.apache.hadoop.conf.Configuration&nbsp;conf,
                                        <a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</a>&nbsp;zk)</code>
<div class="block">Constructor used by clients of replication (like master and HBase clients)</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#ReplicationZookeeper(org.apache.hadoop.hbase.Server,%20java.util.concurrent.atomic.AtomicBoolean)">ReplicationZookeeper</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/Server.html" title="interface in org.apache.hadoop.hbase">Server</a>&nbsp;server,
                                        <a href="http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/atomic/AtomicBoolean.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicBoolean</a>&nbsp;replicating)</code>
<div class="block">Constructor used by region servers, connects to the peer cluster right away.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#addLogToList(java.lang.String,%20java.lang.String)">addLogToList</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;filename,
                        <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;peerId)</code>
<div class="block">Add a new log to the list of hlogs in zookeeper</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#addPeer(java.lang.String,%20java.lang.String)">addPeer</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id,
              <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;clusterKey)</code>
<div class="block">Add a new peer to this cluster</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#connectToPeer(java.lang.String)">connectToPeer</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;peerId)</code>
<div class="block">This method connects this cluster to another one and registers it
 in this region server's replication znode</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/util/SortedMap.html?is-external=true" title="class or interface in java.util">SortedMap</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/6/docs/api/java/util/SortedSet.html?is-external=true" title="class or interface in java.util">SortedSet</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#copyQueuesFromRS(java.lang.String)">copyQueuesFromRS</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;znode)</code>
<div class="block">This methods copies all the hlogs queues from another region server
 and returns them all sorted per peer cluster (appended with the dead
 server's znode)</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/util/SortedMap.html?is-external=true" title="class or interface in java.util">SortedMap</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/6/docs/api/java/util/SortedSet.html?is-external=true" title="class or interface in java.util">SortedSet</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#copyQueuesFromRSUsingMulti(java.lang.String)">copyQueuesFromRSUsingMulti</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;znode)</code>
<div class="block">It "atomically" copies all the hlogs queues from another region server and returns them all
 sorted per peer cluster (appended with the dead server's znode).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#deleteOwnRSZNode()">deleteOwnRSZNode</a></strong>()</code>
<div class="block">Delete this cluster's queues</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#deleteRsQueues(java.lang.String)">deleteRsQueues</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;znode)</code>
<div class="block">Recursive deletion of all znodes in specified rs' znode</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#deleteSource(java.lang.String,%20boolean)">deleteSource</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;peerZnode,
                        boolean&nbsp;closeConnection)</code>
<div class="block">Delete a complete queue of hlogs</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#disablePeer(java.lang.String)">disablePeer</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id)</code>
<div class="block">Disable replication to the peer</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#enablePeer(java.lang.String)">enablePeer</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id)</code>
<div class="block">Enable replication to the peer</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#getHLogRepPosition(java.lang.String,%20java.lang.String)">getHLogRepPosition</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;peerId,
                                    <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;hlog)</code>
<div class="block">Get the position of the specified hlog in the specified peer znode</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#getListHLogsForPeerForRS(java.lang.String,%20java.lang.String)">getListHLogsForPeerForRS</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;rs,
                                                <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id)</code>
<div class="block">Get the list of hlogs for the specified region server and peer cluster</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#getListOfReplicators()">getListOfReplicators</a></strong>()</code>
<div class="block">Get the list of the replicators that have queues, they can be alive, dead
 or simply from a previous run</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#getListPeersForRS(java.lang.String)">getListPeersForRS</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;rs)</code>
<div class="block">Get the list of peer clusters for the specified server names</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationPeer.html" title="class in org.apache.hadoop.hbase.replication">ReplicationPeer</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#getPeer(java.lang.String)">getPeer</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;peerId)</code>
<div class="block">Helper method to connect to a peer</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationPeer.html" title="class in org.apache.hadoop.hbase.replication">ReplicationPeer</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#getPeerClusters()">getPeerClusters</a></strong>()</code>
<div class="block">Get a map of all peer clusters</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#getPeerEnabled(java.lang.String)">getPeerEnabled</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id)</code>
<div class="block">Check whether the peer is enabled or not.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.PeerState.html" title="enum in org.apache.hadoop.hbase.replication">ReplicationZookeeper.PeerState</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#getPeerState(java.lang.String)">getPeerState</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id)</code>
<div class="block">Get state of the peer.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#getPeersZNode()">getPeersZNode</a></strong>()</code>
<div class="block">Get the full path to the peers' znode</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#getPeerUUID(java.lang.String)">getPeerUUID</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;peerId)</code>
<div class="block">Returns the UUID of the provided peer id.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#getRegisteredRegionServers()">getRegisteredRegionServers</a></strong>()</code>
<div class="block">Get a list of all the other region servers in this cluster
 and set a watch</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#getReplication()">getReplication</a></strong>()</code>
<div class="block">Get the replication status of this cluster.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#getSlavesAddresses(java.lang.String)">getSlavesAddresses</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;peerClusterId)</code>
<div class="block">Returns all region servers from given peer</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#getUUIDForCluster(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher)">getUUIDForCluster</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</a>&nbsp;zkw)</code>
<div class="block">Get the UUID for the provided ZK watcher.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#getZNodeName(java.lang.String)">getZNodeName</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fullPath)</code>
<div class="block">Extracts the znode name of a peer cluster from a ZK path</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#getZookeeperWatcher()">getZookeeperWatcher</a></strong>()</code>
<div class="block">Get this cluster's zk connection</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#isThisOurZnode(java.lang.String)">isThisOurZnode</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;znode)</code>
<div class="block">Checks if the provided znode is the same as this region server's</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#listChildrenAndGetAsServerNames(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher,%20java.lang.String)">listChildrenAndGetAsServerNames</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</a>&nbsp;zkw,
                                                              <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;znode)</code>
<div class="block">Lists the children of the specified znode, retrieving the data of each
 child as a server address.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#listPeers()">listPeers</a></strong>()</code>
<div class="block">Map of this cluster's peers for display.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#listPeersIdsAndWatch()">listPeersIdsAndWatch</a></strong>()</code>
<div class="block">List this cluster's peers' IDs</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#lockOtherRS(java.lang.String)">lockOtherRS</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;znode)</code>
<div class="block">Try to set a lock in another server's znode.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#registerRegionServerListener(org.apache.hadoop.hbase.zookeeper.ZooKeeperListener)">registerRegionServerListener</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperListener.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperListener</a>&nbsp;listener)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#removeLogFromList(java.lang.String,%20java.lang.String)">removeLogFromList</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;filename,
                                  <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;clusterId)</code>
<div class="block">Remove a log from the list of hlogs in zookeeper</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#removePeer(java.lang.String)">removePeer</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id)</code>
<div class="block">Remove the peer from zookeeper.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#setReplicating(boolean)">setReplicating</a></strong>(boolean&nbsp;newState)</code>
<div class="block">Set the new replication state for this cluster</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#writeReplicationStatus(java.lang.String,%20java.lang.String,%20long)">writeReplicationStatus</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;filename,
                                            <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;clusterId,
                                            long&nbsp;position)</code>
<div class="block">Set the current position of the specified cluster in the current hlog</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ReplicationZookeeper(org.apache.hadoop.hbase.Abortable, org.apache.hadoop.conf.Configuration, org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ReplicationZookeeper</h4>
<pre>public&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#line.126">ReplicationZookeeper</a>(<a href="../../../../../org/apache/hadoop/hbase/Abortable.html" title="interface in org.apache.hadoop.hbase">Abortable</a>&nbsp;abortable,
                    org.apache.hadoop.conf.Configuration&nbsp;conf,
                    <a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</a>&nbsp;zk)
                     throws org.apache.zookeeper.KeeperException</pre>
<div class="block">Constructor used by clients of replication (like master and HBase clients)</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>conf</code> - conf to use</dd><dd><code>zk</code> - zk connection to use</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code>org.apache.zookeeper.KeeperException</code></dd></dl>
</li>
</ul>
<a name="ReplicationZookeeper(org.apache.hadoop.hbase.Server, java.util.concurrent.atomic.AtomicBoolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ReplicationZookeeper</h4>
<pre>public&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#line.144">ReplicationZookeeper</a>(<a href="../../../../../org/apache/hadoop/hbase/Server.html" title="interface in org.apache.hadoop.hbase">Server</a>&nbsp;server,
                    <a href="http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/atomic/AtomicBoolean.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicBoolean</a>&nbsp;replicating)
                     throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                            org.apache.zookeeper.KeeperException</pre>
<div class="block">Constructor used by region servers, connects to the peer cluster right away.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>server</code> - </dd><dd><code>replicating</code> - atomic boolean to start/stop replication</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code>org.apache.zookeeper.KeeperException</code></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="listPeersIdsAndWatch()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>listPeersIdsAndWatch</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#line.199">listPeersIdsAndWatch</a>()</pre>
<div class="block">List this cluster's peers' IDs</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>list of all peers' identifiers</dd></dl>
</li>
</ul>
<a name="listPeers()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>listPeers</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#line.213">listPeers</a>()</pre>
<div class="block">Map of this cluster's peers for display.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>A map of peer ids to peer cluster keys</dd></dl>
</li>
</ul>
<a name="getSlavesAddresses(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSlavesAddresses</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#line.233">getSlavesAddresses</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;peerClusterId)</pre>
<div class="block">Returns all region servers from given peer</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>peerClusterId</code> - (byte) the cluster to interrogate</dd>
<dt><span class="strong">Returns:</span></dt><dd>addresses of all region servers</dd></dl>
</li>
</ul>
<a name="listChildrenAndGetAsServerNames(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>listChildrenAndGetAsServerNames</h4>
<pre>public static&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&gt;&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#line.289">listChildrenAndGetAsServerNames</a>(<a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</a>&nbsp;zkw,
                                               <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;znode)
                                                        throws org.apache.zookeeper.KeeperException</pre>
<div class="block">Lists the children of the specified znode, retrieving the data of each
 child as a server address.

 Used to list the currently online regionservers and their addresses.

 Sets no watches at all, this method is best effort.

 Returns an empty list if the node has no children.  Returns null if the
 parent node itself does not exist.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>zkw</code> - zookeeper reference</dd><dd><code>znode</code> - node to get children of as addresses</dd>
<dt><span class="strong">Returns:</span></dt><dd>list of data of children of specified znode, empty if no children,
         null if parent does not exist</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>org.apache.zookeeper.KeeperException</code> - if unexpected zookeeper exception</dd></dl>
</li>
</ul>
<a name="connectToPeer(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connectToPeer</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#line.309">connectToPeer</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;peerId)
                      throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                             org.apache.zookeeper.KeeperException</pre>
<div class="block">This method connects this cluster to another one and registers it
 in this region server's replication znode</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>peerId</code> - id of the peer cluster</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>org.apache.zookeeper.KeeperException</code></dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getPeer(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPeer</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationPeer.html" title="class in org.apache.hadoop.hbase.replication">ReplicationPeer</a>&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#line.335">getPeer</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;peerId)
                        throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                               org.apache.zookeeper.KeeperException</pre>
<div class="block">Helper method to connect to a peer</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>peerId</code> - peer's identifier</dd>
<dt><span class="strong">Returns:</span></dt><dd>object representing the peer</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code>org.apache.zookeeper.KeeperException</code></dd></dl>
</li>
</ul>
<a name="setReplicating(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setReplicating</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#line.362">setReplicating</a>(boolean&nbsp;newState)
                    throws org.apache.zookeeper.KeeperException</pre>
<div class="block">Set the new replication state for this cluster</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>newState</code> - </dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>org.apache.zookeeper.KeeperException</code></dd></dl>
</li>
</ul>
<a name="removePeer(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removePeer</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#line.376">removePeer</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id)
                throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Remove the peer from zookeeper. which will trigger the watchers on every
 region server and close their sources</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>id</code> - </dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - Thrown when the peer doesn't exist</dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="addPeer(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addPeer</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#line.396">addPeer</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id,
           <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;clusterKey)
             throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Add a new peer to this cluster</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>id</code> - peer's identifier</dd><dd><code>clusterKey</code> - ZK ensemble's addresses, client port and root znode</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - Thrown when the peer doesn't exist</dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - Thrown when a peer already exists, since
         multi-slave isn't supported yet.</dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="enablePeer(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>enablePeer</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#line.426">enablePeer</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id)
                throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Enable replication to the peer</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>id</code> - peer's identifier</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - Thrown when the peer doesn't exist</dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="disablePeer(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disablePeer</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#line.438">disablePeer</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id)
                 throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Disable replication to the peer</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>id</code> - peer's identifier</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - Thrown when the peer doesn't exist</dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getPeerState(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPeerState</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.PeerState.html" title="enum in org.apache.hadoop.hbase.replication">ReplicationZookeeper.PeerState</a>&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#line.468">getPeerState</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id)
                                            throws org.apache.zookeeper.KeeperException</pre>
<div class="block">Get state of the peer. This method checks the state by connecting to ZK.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>id</code> - peer's identifier</dd>
<dt><span class="strong">Returns:</span></dt><dd>current state of the peer</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>org.apache.zookeeper.KeeperException</code></dd></dl>
</li>
</ul>
<a name="getPeerEnabled(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPeerEnabled</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#line.483">getPeerEnabled</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id)</pre>
<div class="block">Check whether the peer is enabled or not. This method checks the atomic
 boolean of ReplicationPeer locally.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>id</code> - peer identifier</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if the peer is enabled, otherwise false</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - Thrown when the peer doesn't exist</dd></dl>
</li>
</ul>
<a name="getReplication()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReplication</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#line.514">getReplication</a>()
                       throws org.apache.zookeeper.KeeperException</pre>
<div class="block">Get the replication status of this cluster. If the state znode doesn't
 exist it will also create it and set it true.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>returns true when it's enabled, else false</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>org.apache.zookeeper.KeeperException</code></dd></dl>
</li>
</ul>
<a name="addLogToList(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addLogToList</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#line.532">addLogToList</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;filename,
                <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;peerId)
                  throws org.apache.zookeeper.KeeperException</pre>
<div class="block">Add a new log to the list of hlogs in zookeeper</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>filename</code> - name of the hlog's znode</dd><dd><code>peerId</code> - name of the cluster's znode</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>org.apache.zookeeper.KeeperException</code></dd></dl>
</li>
</ul>
<a name="removeLogFromList(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeLogFromList</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#line.544">removeLogFromList</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;filename,
                     <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;clusterId)</pre>
<div class="block">Remove a log from the list of hlogs in zookeeper</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>filename</code> - name of the hlog's znode</dd><dd><code>clusterId</code> - name of the cluster's znode</dd></dl>
</li>
</ul>
<a name="writeReplicationStatus(java.lang.String, java.lang.String, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeReplicationStatus</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#line.561">writeReplicationStatus</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;filename,
                          <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;clusterId,
                          long&nbsp;position)</pre>
<div class="block">Set the current position of the specified cluster in the current hlog</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>filename</code> - filename name of the hlog's znode</dd><dd><code>clusterId</code> - clusterId name of the cluster's znode</dd><dd><code>position</code> - the position in the file</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getRegisteredRegionServers()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRegisteredRegionServers</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#line.579">getRegisteredRegionServers</a>()</pre>
<div class="block">Get a list of all the other region servers in this cluster
 and set a watch</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>a list of server nanes</dd></dl>
</li>
</ul>
<a name="getListOfReplicators()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getListOfReplicators</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#line.595">getListOfReplicators</a>()</pre>
<div class="block">Get the list of the replicators that have queues, they can be alive, dead
 or simply from a previous run</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>a list of server names</dd></dl>
</li>
</ul>
<a name="getListPeersForRS(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getListPeersForRS</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#line.610">getListPeersForRS</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;rs)</pre>
<div class="block">Get the list of peer clusters for the specified server names</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>rs</code> - server names of the rs</dd>
<dt><span class="strong">Returns:</span></dt><dd>a list of peer cluster</dd></dl>
</li>
</ul>
<a name="getListHLogsForPeerForRS(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getListHLogsForPeerForRS</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#line.627">getListHLogsForPeerForRS</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;rs,
                                    <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;id)</pre>
<div class="block">Get the list of hlogs for the specified region server and peer cluster</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>rs</code> - server names of the rs</dd><dd><code>id</code> - peer cluster</dd>
<dt><span class="strong">Returns:</span></dt><dd>a list of hlogs</dd></dl>
</li>
</ul>
<a name="isThisOurZnode(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isThisOurZnode</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#line.644">isThisOurZnode</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;znode)</pre>
<div class="block">Checks if the provided znode is the same as this region server's</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>znode</code> - to check</dd>
<dt><span class="strong">Returns:</span></dt><dd>if this is this rs's znode</dd></dl>
</li>
</ul>
<a name="lockOtherRS(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lockOtherRS</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#line.654">lockOtherRS</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;znode)</pre>
<div class="block">Try to set a lock in another server's znode.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>znode</code> - the server names of the other server</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if the lock was acquired, false in every other cases</dd></dl>
</li>
</ul>
<a name="copyQueuesFromRSUsingMulti(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>copyQueuesFromRSUsingMulti</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/SortedMap.html?is-external=true" title="class or interface in java.util">SortedMap</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/6/docs/api/java/util/SortedSet.html?is-external=true" title="class or interface in java.util">SortedSet</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&gt;&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#line.683">copyQueuesFromRSUsingMulti</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;znode)</pre>
<div class="block">It "atomically" copies all the hlogs queues from another region server and returns them all
 sorted per peer cluster (appended with the dead server's znode).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>znode</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>HLog queues sorted per peer cluster</dd></dl>
</li>
</ul>
<a name="copyQueuesFromRS(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>copyQueuesFromRS</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/SortedMap.html?is-external=true" title="class or interface in java.util">SortedMap</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/6/docs/api/java/util/SortedSet.html?is-external=true" title="class or interface in java.util">SortedSet</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&gt;&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#line.740">copyQueuesFromRS</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;znode)</pre>
<div class="block">This methods copies all the hlogs queues from another region server
 and returns them all sorted per peer cluster (appended with the dead
 server's znode)</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>znode</code> - server names to copy</dd>
<dt><span class="strong">Returns:</span></dt><dd>all hlogs for all peers of that cluster, null if an error occurred</dd></dl>
</li>
</ul>
<a name="deleteSource(java.lang.String, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteSource</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#line.790">deleteSource</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;peerZnode,
                boolean&nbsp;closeConnection)</pre>
<div class="block">Delete a complete queue of hlogs</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>peerZnode</code> - znode of the peer cluster queue of hlogs to delete</dd></dl>
</li>
</ul>
<a name="deleteRsQueues(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteRsQueues</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#line.807">deleteRsQueues</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;znode)</pre>
<div class="block">Recursive deletion of all znodes in specified rs' znode</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>znode</code> - </dd></dl>
</li>
</ul>
<a name="deleteOwnRSZNode()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteOwnRSZNode</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#line.839">deleteOwnRSZNode</a>()</pre>
<div class="block">Delete this cluster's queues</div>
</li>
</ul>
<a name="getHLogRepPosition(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHLogRepPosition</h4>
<pre>public&nbsp;long&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#line.859">getHLogRepPosition</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;peerId,
                      <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;hlog)
                        throws org.apache.zookeeper.KeeperException</pre>
<div class="block">Get the position of the specified hlog in the specified peer znode</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>peerId</code> - znode of the peer cluster</dd><dd><code>hlog</code> - name of the hlog</dd>
<dt><span class="strong">Returns:</span></dt><dd>the position in that hlog</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>org.apache.zookeeper.KeeperException</code></dd></dl>
</li>
</ul>
<a name="getPeerUUID(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPeerUUID</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#line.874">getPeerUUID</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;peerId)</pre>
<div class="block">Returns the UUID of the provided peer id. Should a connection loss or session
 expiration happen, the ZK handler will be reopened once and if it still doesn't
 work then it will bail and return null.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>peerId</code> - the peer's ID that will be converted into a UUID</dd>
<dt><span class="strong">Returns:</span></dt><dd>a UUID or null if there's a ZK connection issue</dd></dl>
</li>
</ul>
<a name="getUUIDForCluster(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUUIDForCluster</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/UUID.html?is-external=true" title="class or interface in java.util">UUID</a>&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#line.897">getUUIDForCluster</a>(<a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</a>&nbsp;zkw)
                       throws org.apache.zookeeper.KeeperException</pre>
<div class="block">Get the UUID for the provided ZK watcher. Doesn't handle any ZK exceptions</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>zkw</code> - watcher connected to an ensemble</dd>
<dt><span class="strong">Returns:</span></dt><dd>the UUID read from zookeeper</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>org.apache.zookeeper.KeeperException</code></dd></dl>
</li>
</ul>
<a name="registerRegionServerListener(org.apache.hadoop.hbase.zookeeper.ZooKeeperListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerRegionServerListener</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#line.917">registerRegionServerListener</a>(<a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperListener.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperListener</a>&nbsp;listener)</pre>
</li>
</ul>
<a name="getPeerClusters()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPeerClusters</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationPeer.html" title="class in org.apache.hadoop.hbase.replication">ReplicationPeer</a>&gt;&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#line.925">getPeerClusters</a>()</pre>
<div class="block">Get a map of all peer clusters</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>map of peer cluster keyed by id</dd></dl>
</li>
</ul>
<a name="getZNodeName(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getZNodeName</h4>
<pre>public static&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#line.934">getZNodeName</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fullPath)</pre>
<div class="block">Extracts the znode name of a peer cluster from a ZK path</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fullPath</code> - Path to extract the id from</dd>
<dt><span class="strong">Returns:</span></dt><dd>the id or an empty string if path is invalid</dd></dl>
</li>
</ul>
<a name="getZookeeperWatcher()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getZookeeperWatcher</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</a>&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#line.943">getZookeeperWatcher</a>()</pre>
<div class="block">Get this cluster's zk connection</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>zk connection</dd></dl>
</li>
</ul>
<a name="getPeersZNode()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getPeersZNode</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/replication/ReplicationZookeeper.html#line.952">getPeersZNode</a>()</pre>
<div class="block">Get the full path to the peers' znode</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>path to peers in zk</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ReplicationZookeeper.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationPeer.PeerStateTracker.html" title="class in org.apache.hadoop.hbase.replication"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../org/apache/hadoop/hbase/replication/ReplicationZookeeper.PeerState.html" title="enum in org.apache.hadoop.hbase.replication"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/hadoop/hbase/replication/ReplicationZookeeper.html" target="_top">Frames</a></li>
<li><a href="ReplicationZookeeper.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2015 <a href="http://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</body>
</html>
