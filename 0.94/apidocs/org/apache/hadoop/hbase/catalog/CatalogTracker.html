<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>CatalogTracker (HBase 0.94.27 API)</title>
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="CatalogTracker (HBase 0.94.27 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CatalogTracker.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../../org/apache/hadoop/hbase/catalog/MetaEditor.html" title="class in org.apache.hadoop.hbase.catalog"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/hadoop/hbase/catalog/CatalogTracker.html" target="_top">Frames</a></li>
<li><a href="CatalogTracker.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.hadoop.hbase.catalog</div>
<h2 title="Class CatalogTracker" class="title">Class CatalogTracker</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.hadoop.hbase.catalog.CatalogTracker</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <a href="../../../../../src-html/org/apache/hadoop/hbase/catalog/CatalogTracker.html#line.63">CatalogTracker</a>
extends <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Tracks the availability of the catalog tables <code>-ROOT-</code> and
 <code>.META.</code>.

 This class is "read-only" in that the locations of the catalog tables cannot
 be explicitly set.  Instead, ZooKeeper is used to learn of the availability
 and location of <code>-ROOT-</code>.  <code>-ROOT-</code> is used to learn of
 the location of <code>.META.</code>  If not available in <code>-ROOT-</code>,
 ZooKeeper is used to monitor for a new location of <code>.META.</code>.

 <p>Call <a href="../../../../../org/apache/hadoop/hbase/catalog/CatalogTracker.html#start()"><code>start()</code></a> to start up operation.  Call <a href="../../../../../org/apache/hadoop/hbase/catalog/CatalogTracker.html#stop()"><code>stop()</code></a>} to
 interrupt waits and close up shop.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/apache/hadoop/hbase/catalog/CatalogTracker.html#CatalogTracker(org.apache.hadoop.conf.Configuration)">CatalogTracker</a></strong>(org.apache.hadoop.conf.Configuration&nbsp;conf)</code>
<div class="block">Constructs a catalog tracker.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../../org/apache/hadoop/hbase/catalog/CatalogTracker.html#CatalogTracker(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher,%20org.apache.hadoop.conf.Configuration,%20org.apache.hadoop.hbase.Abortable)">CatalogTracker</a></strong>(<a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</a>&nbsp;zk,
                            org.apache.hadoop.conf.Configuration&nbsp;conf,
                            <a href="../../../../../org/apache/hadoop/hbase/Abortable.html" title="interface in org.apache.hadoop.hbase">Abortable</a>&nbsp;abortable)</code>
<div class="block">Constructs the catalog tracker.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/client/HConnection.html" title="interface in org.apache.hadoop.hbase.client">HConnection</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/catalog/CatalogTracker.html#getConnection()">getConnection</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/catalog/CatalogTracker.html#getMetaLocation()">getMetaLocation</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/catalog/CatalogTracker.html#getMetaLocationOrReadLocationFromRoot()">getMetaLocationOrReadLocationFromRoot</a></strong>()</code>
<div class="block">Method used by master on startup trying to figure state of cluster.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/catalog/CatalogTracker.html#getRootLocation()">getRootLocation</a></strong>()</code>
<div class="block">Gets the current location for <code>-ROOT-</code> or null if location is
 not currently available.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/catalog/CatalogTracker.html#isStopped()">isStopped</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/catalog/CatalogTracker.html#resetMetaLocation()">resetMetaLocation</a></strong>()</code>
<div class="block">Called when we figure current meta is off (called from zk callback).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/catalog/CatalogTracker.html#start()">start</a></strong>()</code>
<div class="block">Starts the catalog tracker.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/catalog/CatalogTracker.html#stop()">stop</a></strong>()</code>
<div class="block">Stop working.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/catalog/CatalogTracker.html#verifyMetaRegionLocation(long)">verifyMetaRegionLocation</a></strong>(long&nbsp;timeout)</code>
<div class="block">Verify <code>.META.</code> is deployed and accessible.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/catalog/CatalogTracker.html#verifyRootRegionLocation(long)">verifyRootRegionLocation</a></strong>(long&nbsp;timeout)</code>
<div class="block">Verify <code>-ROOT-</code> is deployed and accessible.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/catalog/CatalogTracker.html#waitForMeta()">waitForMeta</a></strong>()</code>
<div class="block">Waits indefinitely for availability of <code>.META.</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/catalog/CatalogTracker.html#waitForMeta(long)">waitForMeta</a></strong>(long&nbsp;timeout)</code>
<div class="block">Gets the current location for <code>.META.</code> if available and waits
 for up to the specified timeout if not immediately available.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/ipc/HRegionInterface.html" title="interface in org.apache.hadoop.hbase.ipc">HRegionInterface</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/catalog/CatalogTracker.html#waitForMetaServerConnection(long)">waitForMetaServerConnection</a></strong>(long&nbsp;timeout)</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;
<div class="block"><i>Does not retry; use an HTable instance instead.</i></div>
</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/catalog/CatalogTracker.html#waitForRoot()">waitForRoot</a></strong>()</code>
<div class="block">Waits indefinitely for availability of <code>-ROOT-</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/catalog/CatalogTracker.html#waitForRoot(long)">waitForRoot</a></strong>(long&nbsp;timeout)</code>
<div class="block">Gets the current location for <code>-ROOT-</code> if available and waits
 for up to the specified timeout if not immediately available.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../org/apache/hadoop/hbase/ipc/HRegionInterface.html" title="interface in org.apache.hadoop.hbase.ipc">HRegionInterface</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/apache/hadoop/hbase/catalog/CatalogTracker.html#waitForRootServerConnection(long)">waitForRootServerConnection</a></strong>(long&nbsp;timeout)</code>
<div class="block"><strong>Deprecated.</strong>&nbsp;
<div class="block"><i>Use #getRootServerConnection(long)</i></div>
</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="CatalogTracker(org.apache.hadoop.conf.Configuration)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CatalogTracker</h4>
<pre>public&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/catalog/CatalogTracker.html#line.142">CatalogTracker</a>(org.apache.hadoop.conf.Configuration&nbsp;conf)
               throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Constructs a catalog tracker. Find current state of catalog tables.
 Begin active tracking by executing <a href="../../../../../org/apache/hadoop/hbase/catalog/CatalogTracker.html#start()"><code>start()</code></a> post construction. Does
 not timeout.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>conf</code> - the <code>Configuration</code> from which a <a href="../../../../../org/apache/hadoop/hbase/client/HConnection.html" title="interface in org.apache.hadoop.hbase.client"><code>HConnection</code></a> will be
          obtained; if problem, this connections
          <a href="../../../../../org/apache/hadoop/hbase/Abortable.html#abort(java.lang.String,%20java.lang.Throwable)"><code>Abortable.abort(String, Throwable)</code></a> will be called.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="CatalogTracker(org.apache.hadoop.hbase.zookeeper.ZooKeeperWatcher, org.apache.hadoop.conf.Configuration, org.apache.hadoop.hbase.Abortable)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CatalogTracker</h4>
<pre>public&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/catalog/CatalogTracker.html#line.158">CatalogTracker</a>(<a href="../../../../../org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.html" title="class in org.apache.hadoop.hbase.zookeeper">ZooKeeperWatcher</a>&nbsp;zk,
              org.apache.hadoop.conf.Configuration&nbsp;conf,
              <a href="../../../../../org/apache/hadoop/hbase/Abortable.html" title="interface in org.apache.hadoop.hbase">Abortable</a>&nbsp;abortable)
               throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Constructs the catalog tracker.  Find current state of catalog tables.
 Begin active tracking by executing <a href="../../../../../org/apache/hadoop/hbase/catalog/CatalogTracker.html#start()"><code>start()</code></a> post construction.
 Does not timeout.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>zk</code> - If zk is null, we'll create an instance (and shut it down
 when <a href="../../../../../org/apache/hadoop/hbase/catalog/CatalogTracker.html#stop()"><code>stop()</code></a> is called) else we'll use what is passed.</dd><dd><code>conf</code> - </dd><dd><code>abortable</code> - If fatal exception we'll call abort on this.  May be null.
 If it is we'll use the Connection associated with the passed
 <code>Configuration</code> as our Abortable.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="start()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>start</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/catalog/CatalogTracker.html#line.212">start</a>()
           throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                  <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">Starts the catalog tracker.
 Determines current availability of catalog tables and ensures all further
 transitions of either region are tracked.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd></dl>
</li>
</ul>
<a name="isStopped()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isStopped</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/catalog/CatalogTracker.html#line.228">isStopped</a>()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>True if we are stopped. Call only after start else indeterminate answer.</dd></dl>
</li>
</ul>
<a name="stop()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stop</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/catalog/CatalogTracker.html#line.236">stop</a>()</pre>
<div class="block">Stop working.
 Interrupts any ongoing waits.</div>
</li>
</ul>
<a name="getRootLocation()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRootLocation</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/catalog/CatalogTracker.html#line.268">getRootLocation</a>()
                           throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">Gets the current location for <code>-ROOT-</code> or null if location is
 not currently available.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd><a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase"><code>ServerName</code></a> for server hosting <code>-ROOT-</code> or null
 if none available</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd></dl>
</li>
</ul>
<a name="getMetaLocation()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMetaLocation</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/catalog/CatalogTracker.html#line.276">getMetaLocation</a>()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd><a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase"><code>ServerName</code></a> for server hosting <code>.META.</code> or null
 if none available</dd></dl>
</li>
</ul>
<a name="getMetaLocationOrReadLocationFromRoot()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMetaLocationOrReadLocationFromRoot</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/catalog/CatalogTracker.html#line.290">getMetaLocationOrReadLocationFromRoot</a>()
                                                 throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Method used by master on startup trying to figure state of cluster.
 Returns the current meta location unless its null.  In this latter case,
 it has not yet been set so go check whats up in <code>-ROOT-</code> and
 return that.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd><a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase"><code>ServerName</code></a> for server hosting <code>.META.</code> or if null,
 we'll read the location that is up in <code>-ROOT-</code> table (which
 could be null or just plain stale).</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="waitForRoot()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitForRoot</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/catalog/CatalogTracker.html#line.300">waitForRoot</a>()
                 throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">Waits indefinitely for availability of <code>-ROOT-</code>.  Used during
 cluster startup.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code> - if interrupted while waiting</dd></dl>
</li>
</ul>
<a name="waitForRoot(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitForRoot</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/catalog/CatalogTracker.html#line.316">waitForRoot</a>(long&nbsp;timeout)
                       throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                              <a href="../../../../../org/apache/hadoop/hbase/NotAllMetaRegionsOnlineException.html" title="class in org.apache.hadoop.hbase">NotAllMetaRegionsOnlineException</a></pre>
<div class="block">Gets the current location for <code>-ROOT-</code> if available and waits
 for up to the specified timeout if not immediately available.  Returns null
 if the timeout elapses before root is available.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>timeout</code> - maximum time to wait for root availability, in milliseconds</dd>
<dt><span class="strong">Returns:</span></dt><dd><a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase"><code>ServerName</code></a> for server hosting <code>-ROOT-</code> or null
 if none available</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code> - if interrupted while waiting</dd>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/NotAllMetaRegionsOnlineException.html" title="class in org.apache.hadoop.hbase">NotAllMetaRegionsOnlineException</a></code> - if root not available before
 timeout</dd></dl>
</li>
</ul>
<a name="waitForRootServerConnection(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitForRootServerConnection</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/hadoop/hbase/ipc/HRegionInterface.html" title="interface in org.apache.hadoop.hbase.ipc">HRegionInterface</a>&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/catalog/CatalogTracker.html#line.336">waitForRootServerConnection</a>(long&nbsp;timeout)
                                             throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                                                    <a href="../../../../../org/apache/hadoop/hbase/NotAllMetaRegionsOnlineException.html" title="class in org.apache.hadoop.hbase">NotAllMetaRegionsOnlineException</a>,
                                                    <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;<i>Use #getRootServerConnection(long)</i></div>
<div class="block">Gets a connection to the server hosting root, as reported by ZooKeeper,
 waiting up to the specified timeout for availability.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>timeout</code> - How long to wait on root location</dd>
<dt><span class="strong">Returns:</span></dt><dd>connection to server hosting root</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/NotAllMetaRegionsOnlineException.html" title="class in org.apache.hadoop.hbase">NotAllMetaRegionsOnlineException</a></code> - if timed out waiting</dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../org/apache/hadoop/hbase/catalog/CatalogTracker.html#waitForRoot(long)"><code>for additional information</code></a></dd></dl>
</li>
</ul>
<a name="waitForMeta()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitForMeta</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/catalog/CatalogTracker.html#line.415">waitForMeta</a>()
                 throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></pre>
<div class="block">Waits indefinitely for availability of <code>.META.</code>.  Used during
 cluster startup.  Does not verify meta, just that something has been
 set up in zk.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code> - if interrupted while waiting</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../org/apache/hadoop/hbase/catalog/CatalogTracker.html#waitForMeta(long)"><code>waitForMeta(long)</code></a></dd></dl>
</li>
</ul>
<a name="waitForMeta(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitForMeta</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase">ServerName</a>&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/catalog/CatalogTracker.html#line.444">waitForMeta</a>(long&nbsp;timeout)
                       throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                              <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                              <a href="../../../../../org/apache/hadoop/hbase/NotAllMetaRegionsOnlineException.html" title="class in org.apache.hadoop.hbase">NotAllMetaRegionsOnlineException</a></pre>
<div class="block">Gets the current location for <code>.META.</code> if available and waits
 for up to the specified timeout if not immediately available.  Throws an
 exception if timed out waiting.  This method differs from <a href="../../../../../org/apache/hadoop/hbase/catalog/CatalogTracker.html#waitForMeta()"><code>waitForMeta()</code></a>
 in that it will go ahead and verify the location gotten from ZooKeeper and
 -ROOT- region by trying to use returned connection.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>timeout</code> - maximum time to wait for meta availability, in milliseconds</dd>
<dt><span class="strong">Returns:</span></dt><dd><a href="../../../../../org/apache/hadoop/hbase/ServerName.html" title="class in org.apache.hadoop.hbase"><code>ServerName</code></a> for server hosting <code>.META.</code> or null
 if none available</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code> - if interrupted while waiting</dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - unexpected exception connecting to meta server</dd>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/NotAllMetaRegionsOnlineException.html" title="class in org.apache.hadoop.hbase">NotAllMetaRegionsOnlineException</a></code> - if meta not available before
 timeout</dd></dl>
</li>
</ul>
<a name="waitForMetaServerConnection(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitForMetaServerConnection</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/hadoop/hbase/ipc/HRegionInterface.html" title="interface in org.apache.hadoop.hbase.ipc">HRegionInterface</a>&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/catalog/CatalogTracker.html#line.473">waitForMetaServerConnection</a>(long&nbsp;timeout)
                                             throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                                                    <a href="../../../../../org/apache/hadoop/hbase/NotAllMetaRegionsOnlineException.html" title="class in org.apache.hadoop.hbase">NotAllMetaRegionsOnlineException</a>,
                                                    <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block"><span class="strong">Deprecated.</span>&nbsp;<i>Does not retry; use an HTable instance instead.</i></div>
<div class="block">Gets a connection to the server hosting meta, as reported by ZooKeeper,
 waiting up to the specified timeout for availability.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>connection to server hosting meta</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd>
<dd><code><a href="../../../../../org/apache/hadoop/hbase/NotAllMetaRegionsOnlineException.html" title="class in org.apache.hadoop.hbase">NotAllMetaRegionsOnlineException</a></code> - if timed out waiting</dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../org/apache/hadoop/hbase/catalog/CatalogTracker.html#waitForMeta(long)"><code>for additional information</code></a></dd></dl>
</li>
</ul>
<a name="resetMetaLocation()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resetMetaLocation</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/catalog/CatalogTracker.html#line.481">resetMetaLocation</a>()</pre>
<div class="block">Called when we figure current meta is off (called from zk callback).</div>
</li>
</ul>
<a name="verifyRootRegionLocation(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>verifyRootRegionLocation</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/catalog/CatalogTracker.html#line.610">verifyRootRegionLocation</a>(long&nbsp;timeout)
                                 throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                                        <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Verify <code>-ROOT-</code> is deployed and accessible.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>timeout</code> - How long to wait on zk for root address (passed through to
 the internal call to <a href="../../../../../org/apache/hadoop/hbase/catalog/CatalogTracker.html#waitForRootServerConnection(long)"><code>waitForRootServerConnection(long)</code></a>.</dd>
<dt><span class="strong">Returns:</span></dt><dd>True if the <code>-ROOT-</code> location is healthy.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd></dl>
</li>
</ul>
<a name="verifyMetaRegionLocation(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>verifyMetaRegionLocation</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/catalog/CatalogTracker.html#line.635">verifyMetaRegionLocation</a>(long&nbsp;timeout)
                                 throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a>,
                                        <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Verify <code>.META.</code> is deployed and accessible.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>timeout</code> - How long to wait on zk for <code>.META.</code> address
 (passed through to the internal call to <a href="../../../../../org/apache/hadoop/hbase/catalog/CatalogTracker.html#waitForMetaServerConnection(long)"><code>waitForMetaServerConnection(long)</code></a>.</dd>
<dt><span class="strong">Returns:</span></dt><dd>True if the <code>.META.</code> location is healthy.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - Some unexpected IOE.</dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/InterruptedException.html?is-external=true" title="class or interface in java.lang">InterruptedException</a></code></dd></dl>
</li>
</ul>
<a name="getConnection()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getConnection</h4>
<pre>public&nbsp;<a href="../../../../../org/apache/hadoop/hbase/client/HConnection.html" title="interface in org.apache.hadoop.hbase.client">HConnection</a>&nbsp;<a href="../../../../../src-html/org/apache/hadoop/hbase/catalog/CatalogTracker.html#line.658">getConnection</a>()</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CatalogTracker.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../../org/apache/hadoop/hbase/catalog/MetaEditor.html" title="class in org.apache.hadoop.hbase.catalog"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/apache/hadoop/hbase/catalog/CatalogTracker.html" target="_top">Frames</a></li>
<li><a href="CatalogTracker.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2015 <a href="http://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</body>
</html>
