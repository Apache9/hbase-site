<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>HLogSplitter (HBase 0.94.27 API)</title>
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="HLogSplitter (HBase 0.94.27 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/HLogSplitter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLogPrettyPrinter.html" title="class in org.apache.hadoop.hbase.regionserver.wal"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/LRUDictionary.html" title="class in org.apache.hadoop.hbase.regionserver.wal"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html" target="_top">Frames</a></li>
<li><a href="HLogSplitter.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.hadoop.hbase.regionserver.wal</div>
<h2 title="Class HLogSplitter" class="title">Class HLogSplitter</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.hadoop.hbase.regionserver.wal.HLogSplitter</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#line.72">HLogSplitter</a>
extends <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">This class is responsible for splitting up a bunch of regionserver commit log
 files that are no longer being written to, into new files, one per region for
 region to replay on startup. Delete the old log files when finished.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected org.apache.hadoop.conf.Configuration</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#conf">conf</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected org.apache.hadoop.fs.FileSystem</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#fs">fs</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#oldLogDir">oldLogDir</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#RECOVERED_EDITS">RECOVERED_EDITS</a></strong></code>
<div class="block">Name of file that holds recovered edits written by the wal log splitting
 code, one per region</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#rootDir">rootDir</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected org.apache.hadoop.fs.Path</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#srcDir">srcDir</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/atomic/AtomicReference.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicReference</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#thrown">thrown</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#HLogSplitter(org.apache.hadoop.conf.Configuration,%20org.apache.hadoop.fs.Path,%20org.apache.hadoop.fs.Path,%20org.apache.hadoop.fs.Path,%20org.apache.hadoop.fs.FileSystem)">HLogSplitter</a></strong>(org.apache.hadoop.conf.Configuration&nbsp;conf,
                        org.apache.hadoop.fs.Path&nbsp;rootDir,
                        org.apache.hadoop.fs.Path&nbsp;srcDir,
                        org.apache.hadoop.fs.Path&nbsp;oldLogDir,
                        org.apache.hadoop.fs.FileSystem&nbsp;fs)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html" title="class in org.apache.hadoop.hbase.regionserver.wal">HLogSplitter</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#createLogSplitter(org.apache.hadoop.conf.Configuration,%20org.apache.hadoop.fs.Path,%20org.apache.hadoop.fs.Path,%20org.apache.hadoop.fs.Path,%20org.apache.hadoop.fs.FileSystem)">createLogSplitter</a></strong>(org.apache.hadoop.conf.Configuration&nbsp;conf,
                                  org.apache.hadoop.fs.Path&nbsp;rootDir,
                                  org.apache.hadoop.fs.Path&nbsp;srcDir,
                                  org.apache.hadoop.fs.Path&nbsp;oldLogDir,
                                  org.apache.hadoop.fs.FileSystem&nbsp;fs)</code>
<div class="block">Create a new HLogSplitter using the given <code>Configuration</code> and the
 <code>hbase.hlog.splitter.impl</code> property to derived the instance
 class to use.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.Writer.html" title="interface in org.apache.hadoop.hbase.regionserver.wal">HLog.Writer</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#createWriter(org.apache.hadoop.fs.FileSystem,%20org.apache.hadoop.fs.Path,%20org.apache.hadoop.conf.Configuration)">createWriter</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                        org.apache.hadoop.fs.Path&nbsp;logfile,
                        org.apache.hadoop.conf.Configuration&nbsp;conf)</code>
<div class="block">Create a new <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.Writer.html" title="interface in org.apache.hadoop.hbase.regionserver.wal"><code>HLog.Writer</code></a> for writing log splits.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#finishSplitLogFile(org.apache.hadoop.fs.Path,%20org.apache.hadoop.fs.Path,%20java.lang.String,%20org.apache.hadoop.conf.Configuration)">finishSplitLogFile</a></strong>(org.apache.hadoop.fs.Path&nbsp;rootdir,
                                    org.apache.hadoop.fs.Path&nbsp;oldLogDir,
                                    <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;logfile,
                                    org.apache.hadoop.conf.Configuration&nbsp;conf)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#finishSplitLogFile(java.lang.String,%20org.apache.hadoop.conf.Configuration)">finishSplitLogFile</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;logfile,
                                    org.apache.hadoop.conf.Configuration&nbsp;conf)</code>
<div class="block">Completes the work done by splitLogFile by archiving logs</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.Reader.html" title="interface in org.apache.hadoop.hbase.regionserver.wal">HLog.Reader</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#getReader(org.apache.hadoop.fs.FileSystem,%20org.apache.hadoop.fs.FileStatus,%20org.apache.hadoop.conf.Configuration,%20boolean)">getReader</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                  org.apache.hadoop.fs.FileStatus&nbsp;file,
                  org.apache.hadoop.conf.Configuration&nbsp;conf,
                  boolean&nbsp;skipErrors)</code>
<div class="block">Create a new <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.Reader.html" title="interface in org.apache.hadoop.hbase.regionserver.wal"><code>HLog.Reader</code></a> for reading logs to split.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.Reader.html" title="interface in org.apache.hadoop.hbase.regionserver.wal">HLog.Reader</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#getReader(org.apache.hadoop.fs.FileSystem,%20org.apache.hadoop.fs.Path,%20org.apache.hadoop.conf.Configuration)">getReader</a></strong>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                  org.apache.hadoop.fs.Path&nbsp;curLogFile,
                  org.apache.hadoop.conf.Configuration&nbsp;conf)</code>
<div class="block">Create a new <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.Reader.html" title="interface in org.apache.hadoop.hbase.regionserver.wal"><code>HLog.Reader</code></a> for reading logs to split.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#getSize()">getSize</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#getTime()">getTime</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.Path&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#splitLog()">splitLog</a></strong>()</code>
<div class="block">Split up a bunch of regionserver commit log files that are no longer being
 written to, into new files, one per region for region to replay on startup.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.Path&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#splitLog(java.util.concurrent.CountDownLatch)">splitLog</a></strong>(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/CountDownLatch.html?is-external=true" title="class or interface in java.util.concurrent">CountDownLatch</a>&nbsp;latch)</code>
<div class="block">Split up a bunch of regionserver commit log files that are no longer being
 written to, into new files, one per region for region to replay on startup.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#splitLogFile(org.apache.hadoop.fs.FileStatus,%20org.apache.hadoop.hbase.util.CancelableProgressable)">splitLogFile</a></strong>(org.apache.hadoop.fs.FileStatus&nbsp;logfile,
                        <a href="../../../../../../org/apache/hadoop/hbase/util/CancelableProgressable.html" title="interface in org.apache.hadoop.hbase.util">CancelableProgressable</a>&nbsp;reporter)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#splitLogFile(org.apache.hadoop.fs.Path,%20org.apache.hadoop.fs.FileStatus,%20org.apache.hadoop.fs.FileSystem,%20org.apache.hadoop.conf.Configuration,%20org.apache.hadoop.hbase.util.CancelableProgressable)">splitLogFile</a></strong>(org.apache.hadoop.fs.Path&nbsp;rootDir,
                        org.apache.hadoop.fs.FileStatus&nbsp;logfile,
                        org.apache.hadoop.fs.FileSystem&nbsp;fs,
                        org.apache.hadoop.conf.Configuration&nbsp;conf,
                        <a href="../../../../../../org/apache/hadoop/hbase/util/CancelableProgressable.html" title="interface in org.apache.hadoop.hbase.util">CancelableProgressable</a>&nbsp;reporter)</code>
<div class="block">Splits a HLog file into region's recovered-edits directory</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="RECOVERED_EDITS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>RECOVERED_EDITS</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> <a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#line.79">RECOVERED_EDITS</a></pre>
<div class="block">Name of file that holds recovered edits written by the wal log splitting
 code, one per region</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../constant-values.html#org.apache.hadoop.hbase.regionserver.wal.HLogSplitter.RECOVERED_EDITS">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="rootDir">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rootDir</h4>
<pre>protected final&nbsp;org.apache.hadoop.fs.Path <a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#line.90">rootDir</a></pre>
</li>
</ul>
<a name="srcDir">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>srcDir</h4>
<pre>protected final&nbsp;org.apache.hadoop.fs.Path <a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#line.91">srcDir</a></pre>
</li>
</ul>
<a name="oldLogDir">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>oldLogDir</h4>
<pre>protected final&nbsp;org.apache.hadoop.fs.Path <a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#line.92">oldLogDir</a></pre>
</li>
</ul>
<a name="fs">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fs</h4>
<pre>protected final&nbsp;org.apache.hadoop.fs.FileSystem <a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#line.93">fs</a></pre>
</li>
</ul>
<a name="conf">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>conf</h4>
<pre>protected final&nbsp;org.apache.hadoop.conf.Configuration <a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#line.94">conf</a></pre>
</li>
</ul>
<a name="thrown">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>thrown</h4>
<pre>protected&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/atomic/AtomicReference.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicReference</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a>&gt; <a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#line.104">thrown</a></pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="HLogSplitter(org.apache.hadoop.conf.Configuration, org.apache.hadoop.fs.Path, org.apache.hadoop.fs.Path, org.apache.hadoop.fs.Path, org.apache.hadoop.fs.FileSystem)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>HLogSplitter</h4>
<pre>public&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#line.156">HLogSplitter</a>(org.apache.hadoop.conf.Configuration&nbsp;conf,
            org.apache.hadoop.fs.Path&nbsp;rootDir,
            org.apache.hadoop.fs.Path&nbsp;srcDir,
            org.apache.hadoop.fs.Path&nbsp;oldLogDir,
            org.apache.hadoop.fs.FileSystem&nbsp;fs)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="createLogSplitter(org.apache.hadoop.conf.Configuration, org.apache.hadoop.fs.Path, org.apache.hadoop.fs.Path, org.apache.hadoop.fs.Path, org.apache.hadoop.fs.FileSystem)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createLogSplitter</h4>
<pre>public static&nbsp;<a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html" title="class in org.apache.hadoop.hbase.regionserver.wal">HLogSplitter</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#line.125">createLogSplitter</a>(org.apache.hadoop.conf.Configuration&nbsp;conf,
                             org.apache.hadoop.fs.Path&nbsp;rootDir,
                             org.apache.hadoop.fs.Path&nbsp;srcDir,
                             org.apache.hadoop.fs.Path&nbsp;oldLogDir,
                             org.apache.hadoop.fs.FileSystem&nbsp;fs)</pre>
<div class="block">Create a new HLogSplitter using the given <code>Configuration</code> and the
 <code>hbase.hlog.splitter.impl</code> property to derived the instance
 class to use.
 <p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>conf</code> - </dd><dd><code>rootDir</code> - hbase directory</dd><dd><code>srcDir</code> - logs directory</dd><dd><code>oldLogDir</code> - directory where processed logs are archived to</dd><dd><code>fs</code> - FileSystem</dd>
<dt><span class="strong">Returns:</span></dt><dd>New HLogSplitter instance</dd></dl>
</li>
</ul>
<a name="splitLog()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>splitLog</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.Path&gt;&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#line.179">splitLog</a>()
                                         throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Split up a bunch of regionserver commit log files that are no longer being
 written to, into new files, one per region for region to replay on startup.
 Delete the old log files when finished.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the list of splits</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - will throw if corrupted hlogs aren't tolerated</dd></dl>
</li>
</ul>
<a name="splitLog(java.util.concurrent.CountDownLatch)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>splitLog</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;org.apache.hadoop.fs.Path&gt;&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#line.193">splitLog</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/CountDownLatch.html?is-external=true" title="class or interface in java.util.concurrent">CountDownLatch</a>&nbsp;latch)
                                         throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Split up a bunch of regionserver commit log files that are no longer being
 written to, into new files, one per region for region to replay on startup.
 Delete the old log files when finished.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>latch</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>the list of splits</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - will throw if corrupted hlogs aren't tolerated</dd></dl>
</li>
</ul>
<a name="getTime()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTime</h4>
<pre>public&nbsp;long&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#line.236">getTime</a>()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>time that this split took</dd></dl>
</li>
</ul>
<a name="getSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSize</h4>
<pre>public&nbsp;long&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#line.243">getSize</a>()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>aggregate size of hlogs that were split</dd></dl>
</li>
</ul>
<a name="splitLogFile(org.apache.hadoop.fs.Path, org.apache.hadoop.fs.FileStatus, org.apache.hadoop.fs.FileSystem, org.apache.hadoop.conf.Configuration, org.apache.hadoop.hbase.util.CancelableProgressable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>splitLogFile</h4>
<pre>public static&nbsp;boolean&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#line.376">splitLogFile</a>(org.apache.hadoop.fs.Path&nbsp;rootDir,
                   org.apache.hadoop.fs.FileStatus&nbsp;logfile,
                   org.apache.hadoop.fs.FileSystem&nbsp;fs,
                   org.apache.hadoop.conf.Configuration&nbsp;conf,
                   <a href="../../../../../../org/apache/hadoop/hbase/util/CancelableProgressable.html" title="interface in org.apache.hadoop.hbase.util">CancelableProgressable</a>&nbsp;reporter)
                            throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Splits a HLog file into region's recovered-edits directory
 <p>
 If the log file has N regions then N recovered.edits files will be
 produced. There is no buffering in this code. Instead it relies on the
 buffering in the SequenceFileWriter.
 <p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>rootDir</code> - </dd><dd><code>logfile</code> - </dd><dd><code>fs</code> - </dd><dd><code>conf</code> - </dd><dd><code>reporter</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>false if it is interrupted by the progress-able.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="splitLogFile(org.apache.hadoop.fs.FileStatus, org.apache.hadoop.hbase.util.CancelableProgressable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>splitLogFile</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#line.384">splitLogFile</a>(org.apache.hadoop.fs.FileStatus&nbsp;logfile,
                   <a href="../../../../../../org/apache/hadoop/hbase/util/CancelableProgressable.html" title="interface in org.apache.hadoop.hbase.util">CancelableProgressable</a>&nbsp;reporter)
                     throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="finishSplitLogFile(java.lang.String, org.apache.hadoop.conf.Configuration)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finishSplitLogFile</h4>
<pre>public static&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#line.567">finishSplitLogFile</a>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;logfile,
                      org.apache.hadoop.conf.Configuration&nbsp;conf)
                               throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Completes the work done by splitLogFile by archiving logs
 <p>
 It is invoked by SplitLogManager once it knows that one of the
 SplitLogWorkers have completed the splitLogFile() part. If the master
 crashes then this function might get called multiple times.
 <p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>logfile</code> - </dd><dd><code>conf</code> - </dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="finishSplitLogFile(org.apache.hadoop.fs.Path, org.apache.hadoop.fs.Path, java.lang.String, org.apache.hadoop.conf.Configuration)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finishSplitLogFile</h4>
<pre>public static&nbsp;void&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#line.574">finishSplitLogFile</a>(org.apache.hadoop.fs.Path&nbsp;rootdir,
                      org.apache.hadoop.fs.Path&nbsp;oldLogDir,
                      <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;logfile,
                      org.apache.hadoop.conf.Configuration&nbsp;conf)
                               throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getReader(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.FileStatus, org.apache.hadoop.conf.Configuration, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReader</h4>
<pre>protected&nbsp;<a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.Reader.html" title="interface in org.apache.hadoop.hbase.regionserver.wal">HLog.Reader</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#line.764">getReader</a>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                    org.apache.hadoop.fs.FileStatus&nbsp;file,
                    org.apache.hadoop.conf.Configuration&nbsp;conf,
                    boolean&nbsp;skipErrors)
                         throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                                org.apache.hadoop.hbase.regionserver.wal.HLogSplitter.CorruptedLogFileException</pre>
<div class="block">Create a new <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.Reader.html" title="interface in org.apache.hadoop.hbase.regionserver.wal"><code>HLog.Reader</code></a> for reading logs to split.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fs</code> - </dd><dd><code>file</code> - </dd><dd><code>conf</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>A new Reader instance</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code>CorruptedLogFile</code></dd>
<dd><code>org.apache.hadoop.hbase.regionserver.wal.HLogSplitter.CorruptedLogFileException</code></dd></dl>
</li>
</ul>
<a name="createWriter(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.conf.Configuration)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createWriter</h4>
<pre>protected&nbsp;<a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.Writer.html" title="interface in org.apache.hadoop.hbase.regionserver.wal">HLog.Writer</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#line.859">createWriter</a>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                       org.apache.hadoop.fs.Path&nbsp;logfile,
                       org.apache.hadoop.conf.Configuration&nbsp;conf)
                            throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Create a new <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.Writer.html" title="interface in org.apache.hadoop.hbase.regionserver.wal"><code>HLog.Writer</code></a> for writing log splits.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getReader(org.apache.hadoop.fs.FileSystem, org.apache.hadoop.fs.Path, org.apache.hadoop.conf.Configuration)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getReader</h4>
<pre>protected&nbsp;<a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.Reader.html" title="interface in org.apache.hadoop.hbase.regionserver.wal">HLog.Reader</a>&nbsp;<a href="../../../../../../src-html/org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html#line.867">getReader</a>(org.apache.hadoop.fs.FileSystem&nbsp;fs,
                    org.apache.hadoop.fs.Path&nbsp;curLogFile,
                    org.apache.hadoop.conf.Configuration&nbsp;conf)
                         throws <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Create a new <a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLog.Reader.html" title="interface in org.apache.hadoop.hbase.regionserver.wal"><code>HLog.Reader</code></a> for reading logs to split.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/HLogSplitter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/HLogPrettyPrinter.html" title="class in org.apache.hadoop.hbase.regionserver.wal"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../org/apache/hadoop/hbase/regionserver/wal/LRUDictionary.html" title="class in org.apache.hadoop.hbase.regionserver.wal"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/apache/hadoop/hbase/regionserver/wal/HLogSplitter.html" target="_top">Frames</a></li>
<li><a href="HLogSplitter.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2015 <a href="http://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</body>
</html>
